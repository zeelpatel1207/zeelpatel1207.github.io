"use strict";(self.webpackChunkoculus_web=self.webpackChunkoculus_web||[]).push([[564],{6564:(Z,p,a)=>{a.r(p),a.d(p,{ResetPasswordModule:()=>M,routes:()=>m});var g=a(6895),s=a(4719),u=a(9697),f=a(6716),d=a(1338),t=a(4650),h=a(5628),w=a(7185);function v(n,i){1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"img",5),t.qZA()()())}function x(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Password must be a minimum of 8 characters including uppercase, lowercase and at least one number. "),t.qZA())}function P(n,i){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,x,2,0,"div",27),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("ngIf",(null==(o=e.resetPasswordForm.get("password"))||null==o.errors?null:o.errors.required)||(null==(o=e.resetPasswordForm.get("password"))||null==o.errors?null:o.errors.minlength)||(null==(o=e.resetPasswordForm.get("password"))||null==o.errors?null:o.errors.pattern))}}function _(n,i){1&n&&(t.TgZ(0,"div",26),t._uU(1," Password and Confirmed Password does not match "),t.qZA())}function b(n,i){1&n&&t._UZ(0,"span",28)}function C(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",2)(2,"div",7)(3,"div",8)(4,"div",2)(5,"div",7)(6,"div",9)(7,"h1"),t._uU(8,"Reset Password "),t._UZ(9,"span"),t.qZA()()()(),t.TgZ(10,"div",2)(11,"div",7)(12,"div",10)(13,"div",11)(14,"form",12),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.submit())}),t.TgZ(15,"div",2)(16,"div",13)(17,"div",14),t._UZ(18,"input",15),t.TgZ(19,"div",16)(20,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.show=!r.show)}),t._UZ(21,"i",18),t.qZA()(),t.YNc(22,P,2,1,"div",19),t.qZA()(),t.TgZ(23,"div",13)(24,"div",20),t._UZ(25,"input",21),t.YNc(26,_,2,0,"div",19),t.qZA()(),t.TgZ(27,"div",13)(28,"button",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.submit())}),t.YNc(29,b,1,0,"span",23),t._uU(30," Submit "),t.qZA()()()()(),t.TgZ(31,"div",24)(32,"p"),t._uU(33," Don't have an account? "),t.TgZ(34,"a",25),t._uU(35,"Sign Up Now"),t.qZA()()()()()()()()()()}if(2&n){const e=t.oxw();let o,r;t.xp6(14),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(4),t.Q6J("type",e.show?"text":"password"),t.xp6(3),t.Gre("fa fa-eye",e.show?"-slash":"",""),t.xp6(1),t.Q6J("ngIf",(null==(o=e.resetPasswordForm.get("password"))?null:o.errors)&&(null==(o=e.resetPasswordForm.get("password"))?null:o.touched)),t.xp6(4),t.Q6J("ngIf",(null==(r=e.resetPasswordForm.get("confirmpassword"))?null:r.errors)&&(null==(r=e.resetPasswordForm.get("confirmpassword"))?null:r.touched)),t.xp6(2),t.ekj("btn-disabled",e.isLoading),t.Q6J("disabled",e.isLoading),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}const m=[{path:"",component:(()=>{class n{constructor(e,o,r,l,c){this.fb=e,this.authenticationService=o,this.toastr=r,this.activatedRoute=l,this.router=c,this.isLoading=!1,this.show=!1,this.token=""}handleKeyboardEvent(e){"enter"===e.key?.toLowerCase()&&this.resetPassword()}ngOnInit(){this.password="password",this.getQueryParameter(),this.resetPasswordForm=this.fb.group({password:["",[s.kI.required,s.kI.minLength(8),s.kI.pattern(f.lI)]],confirmpassword:["",[s.kI.required]]},{validators:this.controlsEqual("confirmpassword","password")})}controlsEqual(e,o,r=e){return l=>{const c=l?.get(e);return c?.value!==l.get(o)?.value?(c?.setErrors({[r]:!0}),{[r]:!0}):(c?.setErrors(null),null)}}getQueryParameter(){this.loading=!0,this.activatedRoute.queryParamMap.subscribe(e=>{console.log("token",e.params.token),e&&e.params&&e.params.token?(this.token=e.params.token,this.authenticationService.tokenValidation(this.token).subscribe(o=>{console.log(o),!0===o?this.loading=!1:(this.toastr.error(d.xZ.invalidTokenErrorMsg,d.xZ.error),this.router.navigate(["/login"]))})):(this.toastr.error(d.xZ.invalidTokenErrorMsg,d.xZ.error),this.router.navigate(["/login"]))})}submit(){this.resetPasswordForm.invalid||(this.isLoading=!0,this.authenticationService.tokenValidation(this.token).subscribe(e=>{console.log(e),!0===e?this.resetPassword():(this.toastr.error(d.xZ.invalidTokenErrorMsg,d.xZ.error),this.router.navigate(["/login"]))},e=>{this.isLoading=!1,console.log(e),this.toastr.error(e)}))}resetPassword(){this.resetPasswordRequest=this.resetPasswordForm.value,this.authenticationService.resetPassword(this.resetPasswordRequest.password,this.token).subscribe(e=>{console.log(e),this.isLoading=!1,this.router.navigate(["/login"]),this.toastr.success("Password has been updated successfully.You can login now with new password!","Success")},e=>{console.log(e),this.toastr.error(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.QS),t.Y36(h.$h),t.Y36(w._W),t.Y36(u.gz),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reset-password"]],hostBindings:function(e,o){1&e&&t.NdJ("keypress",function(l){return o.handleKeyboardEvent(l)},!1,t.evT)},decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","container m-7",4,"ngIf"],[1,"row"],[1,"col-12","d-flex","justify-content-center"],[1,"pricing-loader"],["src","assets/images/ajax-loader_1.svg"],[1,"container","m-7"],[1,"col-12"],[1,"login-part"],[1,"title-section"],[1,"register-content"],[1,"register-form"],["title","Reset form","id","reset_password","name","resetPasswordForm","novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12","col-12"],[1,"form-inputRow","input-group"],["id","password","name","password","placeholder","New Password","formControlName","password",1,"register-input-control",3,"type"],[1,"password-icon"],[1,"black",3,"click"],["aria-hidden","true"],["style","color: red",4,"ngIf"],[1,"form-inputRow"],["type","password","id","confirmpassword","name","confirmpassword","placeholder","Confirm Password","formControlName","confirmpassword",1,"register-input-control"],["type","submit","name","submit","value","Submit",1,"submit_btn",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-2","role","status","aria-hidden","true",4,"ngIf"],[1,"alreadyAccount"],["routerLink","/register"],[2,"color","red"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(e,o){1&e&&(t.YNc(0,v,4,0,"div",0),t.YNc(1,C,36,11,"div",1)),2&e&&(t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",!o.loading))},dependencies:[g.O5,u.yS,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".title-section[_ngcontent-%COMP%]{margin-bottom:40px}.form-inputRow[_ngcontent-%COMP%]{margin-bottom:20px}.title-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;border-style:solid;border-width:2px;border-image-source:linear-gradient(265deg,#0091a7,#ccff90);border-image-slice:1;display:block;margin:14px auto 0}.div[_ngcontent-%COMP%]{background-color:#fff;position:absolute;width:45px;height:40px;border-radius:10px;display:flex;z-index:4;margin-left:248px;margin-top:5px}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;color:#fff;line-height:normal;text-align:center;text-transform:capitalize}.register-content[_ngcontent-%COMP%]{max-width:380px;margin:auto;border-radius:5px;background-color:#fff;box-shadow:0 2px 4px #00000080}@media (min-width: 992px){.register-form[_ngcontent-%COMP%]{padding:40px 42px}}input.ng-valid[_ngcontent-%COMP%]{border-color:#90ee90}.register-input-control[_ngcontent-%COMP%]{font-family:Circular!important;font-size:14px;font-weight:500;line-height:normal;color:#002c60;width:100%;border-radius:3px;outline:none;background-color:#f8fafd;border:solid 1px #cbd3df;padding:16px 10px 15px 20px}.submit_btn[_ngcontent-%COMP%]{font-family:Circular!important;font-size:14px;font-weight:500;line-height:45px;height:45px;color:#fff;width:100%;border-radius:3px;border:none;outline:none;cursor:pointer;background-image:linear-gradient(to right,#0099a5,#41b787);box-shadow:0 2px 3px #75757580;transition:all .2s ease-in-out}.alreadyAccount[_ngcontent-%COMP%]{border-top:1px solid #dbe2ec;padding:22px 0 40px}.alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#757575;line-height:normal;text-align:center}.alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:#002c60}a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;outline:0}.m-7[_ngcontent-%COMP%]{margin-top:25px}.red[_ngcontent-%COMP%]{border-color:red}.green[_ngcontent-%COMP%]{border-color:green}.btn-disabled[_ngcontent-%COMP%]{background:#9d9d9d!important;cursor:auto!important}p[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:hover{color:#62fcc1}@media screen and (max-width: 997px){.register-content[_ngcontent-%COMP%]{padding:2rem!important}}.black[_ngcontent-%COMP%]{color:#000!important}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,u.Bz.forChild(m),s.u5,s.UX]}),n})()}}]);