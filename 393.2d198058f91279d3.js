"use strict";(self.webpackChunkoculus_web=self.webpackChunkoculus_web||[]).push([[393],{5393:(O,c,s)=>{s.r(c),s.d(c,{forgotPasswordModule:()=>F,routes:()=>m});var g=s(6895),i=s(4719),d=s(9697),u=s(9496),h=s(6716),f=s(4766),o=s(4650),v=s(5628),b=s(7185),p=s(1405);const w=["email"],C=["captchaElem"];function P(n,a){if(1&n&&(o.TgZ(0,"div",19)(1,"p"),o._uU(2),o.qZA()()),2&n){const e=o.oxw();let t;o.xp6(2),o.hij(" ",null!=(t=e.forgotpasswordForm.get("username"))&&null!=t.errors&&t.errors.required?"Email is required":"Email is not valid"," ")}}function x(n,a){1&n&&o._UZ(0,"span",20)}let M=(()=>{class n{constructor(e,t,r,l){this.fb=e,this.authenticationService=t,this.toastr=r,this.router=l,this.isLoading=!1,this.forgotpasswordForm=this.fb.group({username:new i.p4("",[i.kI.required,i.kI.pattern(h.s9)]),recaptcha:["",[]]}),this.theme="light",this.size="normal",this.lang="en",this.type="image",this.recaptchaKey=f.N.recaptchaKey}handleKeyboardEvent(e){"enter"===e.key?.toLowerCase()&&this.submit()}ngOnInit(){}ngAfterViewInit(){this.email&&this.email.nativeElement.focus()}handleSuccess(e){console.log(e)}submit(){this.forgotpasswordForm.invalid?this.forgotpasswordForm.controls.username.markAllAsTouched():this.forgotpasswordForm.get("recaptcha")?.value?this.forgotpasswordForm.valid&&""!==this.forgotpasswordForm.get("username")?.value?(this.isLoading=!0,this.forgetPasswordRequest={username:this.forgotpasswordForm.get("username")?.value,captcha:this.forgotpasswordForm.get("recaptcha")?.value},console.log(this.forgetPasswordRequest),this.authenticationService.forgotpasswordForm(this.forgetPasswordRequest).subscribe(e=>{this.captchaElement?.reloadCaptcha(),this.forgotpasswordForm.get("recaptcha")?.reset(),console.log(e),this.toastr.success("Password reset link has been sent to your registered email id!"),this.isLoading=!1,this.router.navigate(["/login"])},e=>{console.log(e),this.forgotpasswordForm.get("recaptcha")?.reset(),this.captchaElement?.reloadCaptcha(),this.toastr.error("Invalid email address"),this.isLoading=!1})):this.isLoading=!1:this.toastr.error("Please resolve the captcha and submit!","Captcha Error")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(i.QS),o.Y36(v.$h),o.Y36(b._W),o.Y36(d.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forgotpassword"]],viewQuery:function(e,t){if(1&e&&(o.Gf(w,5),o.Gf(C,5)),2&e){let r;o.iGM(r=o.CRH())&&(t.email=r.first),o.iGM(r=o.CRH())&&(t.captchaElement=r.first)}},hostBindings:function(e,t){1&e&&o.NdJ("keypress",function(l){return t.handleKeyboardEvent(l)},!1,o.evT)},decls:33,vars:11,consts:[[1,"container","login-format"],[1,"row"],[1,"col-12"],[1,"title-section"],[1,"register-content"],[1,"register-form"],["title","Login form","id","login_form","name","loginForm","role","form",3,"formGroup","ngSubmit"],[1,"col-md-12","col-12"],[1,"form-inputRow"],["type","email","id","email","name","email","placeholder","Email","formControlName","username","autofocus","",1,"register-input-control"],["email",""],["class","error mt-1",4,"ngIf"],[1,"col-md-12","col-12","mb-20"],["formControlName","recaptcha",3,"siteKey","size","hl","theme","type","success"],["captchaElem",""],["type","submit",1,"submit_btn",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status","aria-hidden","true",4,"ngIf"],[1,"alreadyAccount"],["routerLink","../register"],[1,"error","mt-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),o._uU(5,"Forgot Password "),o._UZ(6,"span"),o.qZA()()()(),o.TgZ(7,"div",1)(8,"div",2)(9,"div",4)(10,"div",5)(11,"form",6),o.NdJ("ngSubmit",function(){return t.submit()}),o.TgZ(12,"div",1)(13,"div",7)(14,"div",8),o._UZ(15,"input",9,10),o.YNc(17,P,3,1,"div",11),o.qZA()()(),o.TgZ(18,"div",1)(19,"div",12)(20,"div",8)(21,"ngx-recaptcha2",13,14),o.NdJ("success",function(l){return t.handleSuccess(l)}),o.qZA()()()(),o.TgZ(23,"div",1)(24,"div",7)(25,"button",15),o.YNc(26,x,1,0,"span",16),o._uU(27," Submit "),o.qZA()()()()(),o.TgZ(28,"div",17)(29,"p"),o._uU(30," Don't have an account? "),o.TgZ(31,"a",18),o._uU(32,"Sign Up Now"),o.qZA()()()()()()()),2&e){let r;o.xp6(11),o.Q6J("formGroup",t.forgotpasswordForm),o.xp6(6),o.Q6J("ngIf",(null==(r=t.forgotpasswordForm.get("username"))?null:r.errors)&&(null==(r=t.forgotpasswordForm.get("username"))?null:r.touched)),o.xp6(4),o.Q6J("siteKey",t.recaptchaKey)("size",t.size)("hl",t.lang)("theme",t.theme)("type",t.type),o.xp6(4),o.ekj("btn-disabled",t.isLoading),o.Q6J("disabled",t.isLoading),o.xp6(1),o.Q6J("ngIf",t.isLoading)}},dependencies:[g.O5,d.yS,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.to],styles:[".top-bar[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{background:white;padding:30px 10px}.lable-color[_ngcontent-%COMP%]{padding:5px 0;color:#000}.title-section[_ngcontent-%COMP%]{margin-bottom:40px}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;color:#fff;line-height:normal;text-align:center;text-transform:capitalize}.title-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;border-style:solid;border-width:2px;border-image-source:linear-gradient(265deg,#0091a7,#ccff90);border-image-slice:1;display:block;margin:14px auto 0}.register-content[_ngcontent-%COMP%]{max-width:380px;margin:auto;border-radius:5px;background-color:#fff;box-shadow:0 2px 4px #00000080}.register-form[_ngcontent-%COMP%]{padding:2.5rem 2.625rem}.form-inputRow[_ngcontent-%COMP%]{margin-bottom:20px}.register-input-control[_ngcontent-%COMP%]{font-family:roboto;font-size:14px;font-weight:500;line-height:normal;color:#002c60;width:100%;border-radius:3px;outline:none;background-color:#f8fafd;border:solid 1px #cbd3df;padding:16px 10px 15px 20px}.form-inputRow[_ngcontent-%COMP%]{margin-bottom:2rem}.form-inputRow[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;top:48px;position:absolute;font-size:12px;bottom:0}.submit_btn[_ngcontent-%COMP%]{font-family:roboto;font-size:14px;font-weight:500;line-height:45px;height:45px;color:#fff;width:100%;border-radius:3px;border:none;outline:none;cursor:pointer;box-shadow:0 2px 3px #75757580;transition:all .2s ease-in-out}.alreadyAccount[_ngcontent-%COMP%]{border-top:1px solid #dbe2ec;padding:22px 0 40px}.forgot_password_link[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#002c60;line-height:normal;text-align:center;display:block;padding-bottom:30px}a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;outline:0}.alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#757575;line-height:normal;text-align:center}.alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:#002c60}a[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.login-format[_ngcontent-%COMP%]{min-height:calc(80vh - 260px);margin-top:50px}.btn-disabled[_ngcontent-%COMP%]{background:#9d9d9d!important;cursor:auto!important}a[_ngcontent-%COMP%]:hover, p[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:hover{color:#41b787}"]}),n})();var y=s(7763);const m=[{path:"",component:M}];let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g.ez,d.Bz.forChild(m),i.u5,i.UX,u.m,p.e7,y.v]}),n})()}}]);