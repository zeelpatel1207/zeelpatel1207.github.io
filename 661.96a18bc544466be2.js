"use strict";(self.webpackChunkoculus_web=self.webpackChunkoculus_web||[]).push([[661],{5661:(rt,tt,p)=>{p.d(tt,{D:()=>ot});var t=p(7224),r=p(4608),n=p(4650),E=p(5628),S=p(6895),k=p(7489),N=p(6349),u=p(9697),G=p(1507),q=p(6907),B=p(82),X=p(5958),Q=p(4719);function H(C,v){if(1&C&&(n.TgZ(0,"div",25)(1,"div",26),n._uU(2),n.qZA()()),2&C){const _=n.oxw();n.xp6(2),n.hij(" ",null==_.selectedProxy||null==_.selectedProxy.proxyDiscount?null:_.selectedProxy.proxyDiscount.percentageAmount,"% Off ")}}function w(C,v){1&C&&(n.TgZ(0,"div",27)(1,"div",28),n._uU(2,"Sold Out"),n.qZA()())}function D(C,v){if(1&C&&(n.TgZ(0,"li",30),n.ynx(1),n.TgZ(2,"div",31),n._UZ(3,"img",32)(4,"span",33),n.qZA(),n.TgZ(5,"div",31),n._UZ(6,"img",32)(7,"span",33),n.qZA(),n.TgZ(8,"div",31),n._UZ(9,"img",32)(10,"span",33),n.qZA(),n.TgZ(11,"div",31),n._UZ(12,"img",32)(13,"span",33),n.qZA(),n.BQk(),n.qZA()),2&C){const _=n.oxw().$implicit;n.xp6(4),n.Q6J("innerHTML",null==_?null:_.locationDescription,n.oJD),n.xp6(3),n.Q6J("innerHTML",null==_?null:_.speed,n.oJD),n.xp6(3),n.Q6J("innerHTML",null==_?null:_.isp_proxies,n.oJD),n.xp6(3),n.Q6J("innerHTML",null==_?null:_.captcha_proxies,n.oJD)}}function U(C,v){if(1&C&&(n.ynx(0),n.YNc(1,D,14,4,"li",29),n.BQk()),2&C){const _=v.$implicit,c=n.oxw();n.xp6(1),n.Q6J("ngIf",(null==c.selectedProxy||null==c.selectedProxy.proxyLocation?null:c.selectedProxy.proxyLocation.locationName)===_.location)}}const Y=function(C){return{active:C}};function et(C,v){if(1&C){const _=n.EpF();n.ynx(0),n.TgZ(1,"button",34),n.NdJ("click",function(){const f=n.CHM(_).$implicit,V=n.oxw();return n.KtG(V.selectCardMonth(f))}),n._uU(2),n.qZA(),n.BQk()}if(2&C){const _=v.$implicit,c=n.oxw();n.xp6(1),n.ekj("col",c.isExtendPlan)("btn-padding",c.isExtendPlan),n.Q6J("ngClass",n.VKq(6,Y,c.cardSelected&&(null==_?null:_.proxyDurationHrs)==(null==c.cardSelected?null:c.cardSelected.duration))),n.xp6(1),n.hij(" ",null==_?null:_.proxyDurationLabel," ")}}function L(C,v){if(1&C&&(n.TgZ(0,"option"),n._uU(1),n.qZA()),2&C){const _=v.$implicit;n.xp6(1),n.hij(" ",null==_?null:_.noOfProxies," ")}}function j(C,v){if(1&C&&(n.ynx(0),n.YNc(1,L,2,1,"option",9),n.BQk()),2&C){const _=n.oxw();n.xp6(1),n.Q6J("ngForOf",_.cardQuantities)}}function M(C,v){if(1&C){const _=n.EpF();n.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"custom-modal",38),n.NdJ("onClose",function(P){n.CHM(_);const f=n.oxw();return n.KtG(f.closeEvent(P))}),n.ynx(4),n.TgZ(5,"app-order-summary",39),n.NdJ("closedModal",function(P){n.CHM(_);const f=n.oxw();return n.KtG(f.closeEvent(P))}),n.qZA(),n.BQk(),n.qZA()()()()}if(2&C){const _=n.oxw();n.xp6(3),n.Q6J("addClass","order-summary-modal"),n.xp6(2),n.Q6J("typeProxy",_.basicEnumType.BASIC)("proxyData",_.proxyData)("isExtendPlan",_.isExtendPlan)("extendPlanData",_.extendPlanData)("isVersionV1",_.isVersionV1)("points",_.rewards)}}function I(C,v){if(1&C){const _=n.EpF();n.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"custom-modal",40),n.NdJ("onClose",function(P){n.CHM(_);const f=n.oxw();return n.KtG(f.closeEvent(P))}),n.ynx(4),n.TgZ(5,"app-login-modal",41),n.NdJ("closedModal",function(P){n.CHM(_);const f=n.oxw();return n.KtG(f.closeLoginEvent(P))}),n.qZA(),n.BQk(),n.qZA()()()()}2&C&&(n.xp6(5),n.Q6J("type","purchase"))}const F=function(C){return{"btn-disabled":C}};let W=(()=>{class C{constructor(_,c,P,f,V){this.router=_,this.authenticationService=c,this.modelService=P,this.orderService=f,this.customModalService=V,this.type=r._W.BASIC,this.isExtendPlan=!1,this.extendPlanData=null,this.isVersionV1=!1,this.basicEnumType=r._W,this.locationParams=r.$c,this.showCouponCode=!0,this.rewardPoints=!1,this.openOrderSummary=!1,this.openLogin=!1,this.rewards="0",this.proxyData={},this.login=!1}ngOnInit(){if(this.locationParams=r.i0,this.cardSelected={},this.card){this.cardMonths=k.map(this.card,P=>k.first(P));var c=k.first(this.cardMonths);c&&(this.cardSelected.duration=c.proxyDurationHrs,this.cardQuantities=k.sortBy(this.card[this.cardSelected.duration],"noOfProxies"),this.cardSelected.proxyCardDisplay=this.authenticationService.getDurationLabel(c.proxyDurationHrs,!1),this.selectedQty=k.first(this.cardQuantities),this.cardSelected.qty=this.selectedQty.noOfProxies,this.setSelectedProxy())}}selectCardMonth(_){this.cardSelected.qty=this.selectedQty.noOfProxies,this.cardSelected.duration=_.proxyDurationHrs,this.cardQuantities=k.sortBy(this.card[this.cardSelected.duration],"noOfProxies"),this.cardSelected.proxyCardDisplay=this.authenticationService.getDurationLabel(_.proxyDurationHrs,!1),this.setSelectedProxy()}changeQuantity(_){this.cardSelected.qty=parseFloat(_.target.value),this.setSelectedProxy()}setSelectedProxy(){var _=N.ar(this.card[this.cardSelected.duration],{noOfProxies:this.cardSelected.qty,proxyDurationHrs:this.cardSelected.duration});this.selectedProxy=_&&_.length?_[0]:this.card[this.cardSelected.duration][0],this.image="../../../assets/images/"+this.selectedProxy.proxyLocation.locationName+".png"}openLoginDialog(_){this.rewards="";const c=this.authenticationService.checkUserSession();if(this.authenticationService.isUserAuthenticated()&&c)return this.rewards=(+_.afterDiscountPrice*_.proxyDuration).toString(),this.proxyData=_,this.openOrderSummary=!0,void this.modelService.open("order-summary");this.openLogin=!0,this.authenticationService.loginDialogOpen()}closeLoginDialog(_){_&&(this.login=!1)}closeEvent(_){document.body.classList.remove("custom-modal-open"),this.openOrderSummary=!1}closeLoginEvent(_){document.body.classList.remove("custom-modal-open"),this.openLogin=!1}openCheckoutPage(_){this.openOrderSummary=!1,this.openLogin=!1}checkConditionForPurchasePlan(_){return("London_Premium"===_?.proxyLocation?.locationName||!this.isExtendPlan)&&_?.noOfProxies>_?.availableStock}}return C.\u0275fac=function(_){return new(_||C)(n.Y36(u.F0),n.Y36(E.$h),n.Y36(G.k),n.Y36(E.px),n.Y36(G.k))},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-card"]],inputs:{card:"card",cardLocation:"cardLocation",type:"type",isExtendPlan:"isExtendPlan",extendPlanData:"extendPlanData",isVersionV1:"isVersionV1"},decls:39,vars:22,consts:[[1,"pricing-gradient-bg","animate__animated","animate__fadeIn"],[1,"plan-format"],[1,"plan-inner"],["class","ribbon-wrapper-green-right",4,"ngIf"],["class","ribbon-wrapper-red-right",4,"ngIf"],[1,"pt-3","pb-2"],[1,"tage-padding","tage-plan-title"],["src","assets/images/plane-green.svg","alt","Plan"],[1,"m-t-20"],[4,"ngFor","ngForOf"],[1,"font-color"],[1,"f-w-600"],[1,"text-left"],[1,"text-white",3,"innerHTML"],["id","month",1,"m-t-20"],[1,"m-t-10"],[1,"select-box",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"line"],[1,"p30"],[1,"symbol"],[1,"price-amount"],[1,"li-space"],[1,"btn-theme","btn-block",3,"ngClass","click"],["class","purchase-dialog animate__animated animate__fadeInLeft",4,"ngIf"],[1,"ribbon-wrapper-green-right"],[1,"ribbon-green-right"],[1,"ribbon-wrapper-red-right"],[1,"ribbon-red-right"],["class","font-color li-space",4,"ngIf"],[1,"font-color","li-space"],[1,"card_description"],["src","assets/images/check-green.svg","alt","check",1,"check","mr-2"],[3,"innerHTML"],[1,"btn","active","btn-button-small","m-r-5",3,"ngClass","click"],[1,"purchase-dialog","animate__animated","animate__fadeInLeft"],[1,"row"],[1,"col-12"],["id","order-summary","width","600px",3,"addClass","onClose"],[3,"typeProxy","proxyData","isExtendPlan","extendPlanData","isVersionV1","points","closedModal"],["id","login","width","600px",3,"onClose"],[3,"type","closedModal"]],template:function(_,c){1&_&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2," > "),n.TgZ(3,"div",2),n.YNc(4,H,3,1,"div",3),n.YNc(5,w,3,0,"div",4),n.TgZ(6,"div",5)(7,"span",6),n._UZ(8,"img",7),n._uU(9),n.qZA()(),n.ynx(10),n.TgZ(11,"ul",8),n.YNc(12,U,2,1,"ng-container",9),n.TgZ(13,"li",10)(14,"div",11),n._uU(15," Optimized sites "),n.qZA(),n.TgZ(16,"div",12),n._UZ(17,"strong",13),n.qZA()()(),n.BQk(),n.qZA(),n.TgZ(18,"div",14),n.YNc(19,et,3,8,"ng-container",9),n.qZA(),n.TgZ(20,"div",15)(21,"span",10),n._uU(22,"Quantity"),n.qZA(),n._UZ(23,"br"),n.TgZ(24,"select",16),n.NdJ("ngModelChange",function(f){return c.cardSelected.qty=f})("change",function(f){return c.changeQuantity(f)}),n.YNc(25,j,2,1,"ng-container",17),n.qZA()(),n._UZ(26,"hr",18),n.TgZ(27,"div",19)(28,"span",20),n._uU(29,"$"),n.qZA(),n.TgZ(30,"span",21),n._uU(31),n.qZA(),n.TgZ(32,"span",10),n._uU(33),n.qZA()(),n.TgZ(34,"div",22)(35,"a",23),n.NdJ("click",function(){return c.openLoginDialog(c.selectedProxy)}),n._uU(36),n.qZA()()()(),n.YNc(37,M,6,7,"div",24),n.YNc(38,I,6,1,"div",24)),2&_&&(n.xp6(1),n.Udp("background-image",'url("'+c.image+'"), linear-gradient(179.93deg, rgba(21, 24, 36, 0.61) 0.07%, rgb(0 0 0 / 98%) 16.47%, rgb(21, 24, 36) 100%)')("background-repeat","no-repeat !important"),n.xp6(3),n.Q6J("ngIf",null==c.selectedProxy||null==c.selectedProxy.proxyDiscount?null:c.selectedProxy.proxyDiscount.isActive),n.xp6(1),n.Q6J("ngIf",c.checkConditionForPurchasePlan(c.selectedProxy)),n.xp6(4),n.hij(" ",null==c.selectedProxy||null==c.selectedProxy.proxyLocation?null:c.selectedProxy.proxyLocation.locationDisplayName," "),n.xp6(3),n.Q6J("ngForOf",c.locationParams),n.xp6(5),n.Q6J("innerHTML",null==c.selectedProxy?null:c.selectedProxy.supportedSites,n.oJD),n.xp6(1),n.ekj("d-flex",c.isExtendPlan),n.xp6(1),n.Q6J("ngForOf",c.cardMonths),n.xp6(5),n.Q6J("ngModel",c.cardSelected.qty),n.xp6(1),n.Q6J("ngIf",c.cardQuantities),n.xp6(6),n.hij(" ",null==c.selectedProxy?null:c.selectedProxy.afterDiscountPrice,""),n.xp6(2),n.hij(" per ",null==c.cardSelected?null:c.cardSelected.proxyCardDisplay,""),n.xp6(2),n.Q6J("ngClass",n.VKq(20,F,c.checkConditionForPurchasePlan(c.selectedProxy))),n.xp6(1),n.Oqu(c.checkConditionForPurchasePlan(c.selectedProxy)?"SOLD OUT":"Purchase"),n.xp6(1),n.Q6J("ngIf",c.openOrderSummary),n.xp6(1),n.Q6J("ngIf",c.openLogin))},dependencies:[S.mk,S.sg,S.O5,q.R,B.h,X.X,Q.YN,Q.Kr,Q.EJ,Q.JJ,Q.On],styles:['.pricing-gradient-bg[_ngcontent-%COMP%]{background:#c4c4c4;padding:0;margin:0;overflow:hidden;width:100%;height:100%;box-shadow:0 38px 87px #0b0d149e;border:1.5px solid #2b2f42;border-radius:12px;background:linear-gradient(179.93deg,rgba(21,24,36,.8) .07%,#151824 25.47%)!important}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]{background-repeat:no-repeat;padding:20px 30px;background-blend-mode:color-burn;background-size:contain;color:transparent}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .offerprice[_ngcontent-%COMP%]{width:200px;height:20px;border-width:16px 12px 20px 12px;border-color:#41b787 #151824 #41b787 #151824;border-style:solid;position:absolute;top:0;left:0;right:0;margin:0 auto;font-weight:600}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .plan-format.highlight[_ngcontent-%COMP%]{border:1.5px solid #62fcc1;box-shadow:0 38px 87px #0b0d149e}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .plan-inner[_ngcontent-%COMP%]{height:378px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .btn-button-small[_ngcontent-%COMP%]{background:#2b2f42;font-size:18px;line-height:22px;padding:10px 14px;text-align:center;border-radius:6px;color:#fff}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#60f9bf 0%,#0099a5 100%)}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{position:inherit;width:100%;height:42px;top:334px;background:#1f2332;border-radius:6px;color:#fff;padding-left:15px;margin-top:10px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .m-l-7[_ngcontent-%COMP%]{margin-left:7px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .soldout[_ngcontent-%COMP%]{background:#c71414;border-color:#c71414 #151824 #c71414 #151824}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .soldout-font[_ngcontent-%COMP%]{margin:-10px 56px 50px;position:absolute}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .discount-font[_ngcontent-%COMP%]{margin:-10px 38px 35px;position:absolute}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .p30[_ngcontent-%COMP%]{padding-top:30px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{padding-top:40px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{width:64px;height:31px;font-weight:700;font-size:48px;color:#fff;margin-left:18px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{width:24px;font-weight:700;font-size:24px;color:#62fcc1;padding-top:10px;position:absolute}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .font-color[_ngcontent-%COMP%]{color:#a4a9bb}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .li-space[_ngcontent-%COMP%]{padding-top:10px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .span-space[_ngcontent-%COMP%]{padding-left:10px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .tage-padding[_ngcontent-%COMP%]{margin-top:15px;border-radius:29px;background:#1f2332;padding:10px 20px}.pricing-gradient-bg[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .tage-plan-title[_ngcontent-%COMP%]{color:#fff;font-weight:600;background:rgba(255,255,255,.14)!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:29px}[_nghost-%COMP%]     .card_description{margin-bottom:10px}[_nghost-%COMP%]     .card_description span span{color:#fff}.f-w-600[_ngcontent-%COMP%]{font-weight:600}.ribbon-wrapper-green-right[_ngcontent-%COMP%]{width:85px;height:88px;overflow:hidden;position:absolute;top:-1px;right:12px}.ribbon-green-right[_ngcontent-%COMP%]{font:bold 15px Sans-Serif;text-align:center;letter-spacing:.5px;text-shadow:rgba(255,255,255,.5) 0px 1px 0px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);position:relative;padding:5px 0;left:-5px;top:15px;width:120px;background-color:#41b787;background-image:-o-linear-gradient(top,#41b787,#41b787);color:#fff;box-shadow:0 0 3px #0000004d}.ribbon-green-right[_ngcontent-%COMP%]:before{content:"";border-top:3px solid #41b787;border-left:3px solid transparent;border-right:3px solid transparent;position:absolute;bottom:-3px}.ribbon-green-right[_ngcontent-%COMP%]:after{content:"";border-top:3px solid #41b787;border-left:3px solid transparent;border-right:3px solid transparent;position:absolute;bottom:-3px;right:0;left:0}.ribbon-red-right[_ngcontent-%COMP%]{font:bold 13px Sans-Serif;text-align:center;letter-spacing:.5px;text-shadow:rgba(255,255,255,.5) 0px 1px 0px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);position:relative;padding:6px 0;left:-5px;top:15px;width:120px;background-color:#c13a3e;background-image:-o-linear-gradient(top,#c13a3e,#c13a3e);color:#fff;box-shadow:0 0 3px #0000004d}.ribbon-wrapper-red-right[_ngcontent-%COMP%]{width:85px;height:88px;overflow:hidden;position:absolute;top:-1px;right:12px}.ribbon-red-right[_ngcontent-%COMP%]:before{content:"";border-top:3px solid #c13a3e;border-left:3px solid transparent;border-right:3px solid transparent;position:absolute;bottom:-3px}.ribbon-red-right[_ngcontent-%COMP%]:after{content:"";border-top:3px solid #c13a3e;border-left:3px solid transparent;border-right:3px solid transparent;position:absolute;bottom:-3px;right:0;left:0}.btn-padding[_ngcontent-%COMP%]{padding:10px 13px!important}']}),C})();var b=p(9449);function J(C,v){if(1&C&&(n.ynx(0),n._UZ(1,"app-card",3),n.BQk()),2&C){const _=n.oxw().$implicit,c=n.oxw();n.xp6(1),n.Q6J("card",_.value)("cardLocation",_.key)("isExtendPlan",c.isExtendPlan)("extendPlanData",c.extendPlanData)("isVersionV1",c.isVersionV1)("type",c.type)}}function x(C,v){if(1&C&&(n.ynx(0),n._UZ(1,"app-residential-card",4),n.BQk()),2&C){const _=n.oxw().$implicit,c=n.oxw();n.xp6(1),n.Q6J("card",_.value)("isFooterImagesDisplay",c.isFooterImagesDisplay)("isExtendPlan",c.isExtendPlan)("extendPlanData",c.extendPlanData)("cardLocation",_.key)}}function R(C,v){if(1&C&&(n.ynx(0),n._UZ(1,"app-residential-card",4),n.BQk()),2&C){const _=n.oxw().$implicit,c=n.oxw();n.xp6(1),n.Q6J("card",_.value)("isFooterImagesDisplay",c.isFooterImagesDisplay)("isExtendPlan",c.isExtendPlan)("extendPlanData",c.extendPlanData)("cardLocation",_.key)}}function K(C,v){if(1&C&&(n.ynx(0),n.YNc(1,J,2,6,"ng-container",2),n.YNc(2,x,2,5,"ng-container",2),n.YNc(3,R,2,5,"ng-container",2),n.BQk()),2&C){const _=n.oxw();n.xp6(1),n.Q6J("ngIf",_.cardType===_.cardTypeEnum.BASIC),n.xp6(1),n.Q6J("ngIf",_.cardType===_.cardTypeEnum.RESIDENTIAL_PREMIUM),n.xp6(1),n.Q6J("ngIf",_.cardType===_.cardTypeEnum.SHARED)}}let ot=(()=>{class C{constructor(_){this.authenticationService=_,this.cardType=r.mq.BASIC,this.type=r._W.BASIC,this.isFooterImagesDisplay=!1,this.isExtendPlan=!1,this.extendPlanData=null,this.isVersionV1=!1,this.isCountryAvailable=!1,this.cardTypeEnum=r.mq}ngOnInit(){}getUserInfo(){this.authenticationService.getUserInfo().pipe((0,t.P)()).subscribe(_=>{_.country&&(this.isCountryAvailable=!0)})}}return C.\u0275fac=function(_){return new(_||C)(n.Y36(E.$h))},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-card-list"]],inputs:{cardList:"cardList",cardType:"cardType",type:"type",isFooterImagesDisplay:"isFooterImagesDisplay",isExtendPlan:"isExtendPlan",extendPlanData:"extendPlanData",isVersionV1:"isVersionV1"},decls:3,vars:3,consts:[[1,"row","plan-wrap","justify-content-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-4","col-md-6","col-sm-12","col-12",3,"card","cardLocation","isExtendPlan","extendPlanData","isVersionV1","type"],[3,"card","isFooterImagesDisplay","isExtendPlan","extendPlanData","cardLocation"]],template:function(_,c){1&_&&(n.TgZ(0,"div",0),n.YNc(1,K,4,3,"ng-container",1),n.ALo(2,"keyvalue"),n.qZA()),2&_&&(n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,c.cardList)))},dependencies:[S.sg,S.O5,W,b.$,S.Nd],styles:["app-card[_ngcontent-%COMP%]{margin-bottom:12px}"]}),C})()},9541:(rt,tt,p)=>{p.d(tt,{G:()=>W});var t=p(4650),r=p(8929),n=p(7625),E=p(2587),S=p(1338),k=p(3816),N=p(7185),u=p(6895);function G(b,J){1&b&&t._UZ(0,"div",2)}const q=function(){return[1,2,3]};function B(b,J){1&b&&(t.ynx(0),t.YNc(1,G,1,0,"div",1),t.BQk()),2&b&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,q)))}function X(b,J){1&b&&(t.ynx(0),t.TgZ(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"h4",5),t._uU(4,"Payment method not found!"),t.qZA()(),t.BQk())}function Q(b,J){if(1&b&&(t.TgZ(0,"span",20),t._uU(1,"( "),t.TgZ(2,"span",21),t._uU(3),t.qZA(),t._uU(4," ) "),t.qZA()),2&b){const x=t.oxw().$implicit;t.xp6(3),t.hij(" ",x.name||""," ")}}function H(b,J){1&b&&(t.TgZ(0,"span",22),t._uU(1,"Default"),t.qZA())}function w(b,J){1&b&&(t.TgZ(0,"span",23),t._uU(1," Expired "),t.qZA())}const D=function(b,J){return{selected:b,disabledLabel:J}};function U(b,J){if(1&b){const x=t.EpF();t.ynx(0),t.TgZ(1,"label",7),t.NdJ("click",function(){const K=t.CHM(x),ot=K.index,C=K.$implicit,v=t.oxw(3);return t.KtG(v.selectedMethodId=v.checkIsExpired(ot)?"":C.id)}),t.TgZ(2,"div",8)(3,"div",9),t._UZ(4,"input",10),t.qZA(),t.TgZ(5,"div",11)(6,"div",12),t._uU(7),t.ALo(8,"titlecase"),t.YNc(9,Q,5,1,"span",13),t._UZ(10,"br"),t.TgZ(11,"span",14),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",15)(14,"div",16),t.YNc(15,H,2,0,"span",17),t.YNc(16,w,2,0,"span",18),t.qZA(),t._UZ(17,"img",19),t.qZA()(),t.BQk()}if(2&b){const x=J.$implicit,R=J.index,K=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(13,D,K.selectedMethodId===x.id&&!K.checkIsExpired(R),K.checkIsExpired(R))),t.xp6(3),t.Q6J("disabled",K.checkIsExpired(R))("checked",K.selectedMethodId===x.id&&!K.checkIsExpired(R)),t.xp6(3),t.AsE(" ",t.lcZ(8,11,x.brand)," \xa0**** ",x.number," "),t.xp6(2),t.Q6J("ngIf",x.name),t.xp6(3),t.AsE("Expires:\xa0",x.exp_month||"NA","/",x.exp_year||"NA",""),t.xp6(3),t.Q6J("ngIf",x.default),t.xp6(1),t.Q6J("ngIf",K.checkIsExpired(R)),t.xp6(1),t.Q6J("src","../../../../assets/images/cards/"+x.brand+".svg",t.LSH)}}function Y(b,J){if(1&b&&(t.ynx(0),t.YNc(1,U,18,16,"ng-container",6),t.BQk()),2&b){const x=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",x.paymentMethodList)}}function et(b,J){1&b&&t._UZ(0,"hr")}function L(b,J){if(1&b){const x=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){t.CHM(x);const K=t.oxw(3);return t.KtG(K.setShowConfirmationModal(!0))}),t._uU(2," Update "),t.qZA()()}if(2&b){const x=t.oxw(3);t.xp6(1),t.ekj("btn-disabled",!x.selectedMethodId),t.Q6J("disabled",!x.selectedMethodId)}}function j(b,J){1&b&&t._UZ(0,"span",34)}function M(b,J){if(1&b){const x=t.EpF();t.ynx(0),t.TgZ(1,"div",27)(2,"div",28)(3,"p"),t._uU(4," By choosing this card, you agree that this card will be automatically charged if auto renew option for this order is enabled. "),t.qZA()()(),t.TgZ(5,"div",29)(6,"div",30)(7,"button",31),t.NdJ("click",function(){t.CHM(x);const K=t.oxw(3);return t.KtG(K.setShowConfirmationModal(!1))}),t._uU(8," Cancel "),t.qZA(),t.TgZ(9,"button",32),t.NdJ("click",function(){t.CHM(x);const K=t.oxw(3);return t.KtG(K.changePaymentMethod())}),t.YNc(10,j,1,0,"span",33),t._uU(11," Save "),t.qZA()()(),t.BQk()}if(2&b){const x=t.oxw(3);t.xp6(7),t.Q6J("disabled",x.paymentMethodChanging),t.xp6(2),t.Q6J("disabled",x.paymentMethodChanging),t.xp6(1),t.Q6J("ngIf",x.paymentMethodChanging)}}function I(b,J){if(1&b&&(t.TgZ(0,"div"),t.YNc(1,L,3,3,"div",24),t.YNc(2,M,12,3,"ng-container",0),t.qZA()),2&b){const x=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!x.showConfirmation),t.xp6(1),t.Q6J("ngIf",x.showConfirmation)}}function F(b,J){if(1&b&&(t.ynx(0),t.YNc(1,Y,2,1,"ng-container",0),t.YNc(2,et,1,0,"hr",0),t.YNc(3,I,3,2,"div",0),t.BQk()),2&b){const x=t.oxw();t.xp6(1),t.Q6J("ngIf",!x.showConfirmation),t.xp6(1),t.Q6J("ngIf",x.isEditMode&&!x.showConfirmation),t.xp6(1),t.Q6J("ngIf",x.isEditMode)}}let W=(()=>{class b{constructor(x,R){this.paymentMethodService=x,this.toastr=R,this.isLoading=!1,this.activeTab="",this.isEditMode=!1,this.selectedMethodId="",this.showConfirmation=!1,this.paymentMethodChanging=!1,this.paymentMethodList=[],this.closePaymentMethodModal=new t.vpe,this.fetchingData=new t.vpe,this.methodListEmpty=new t.vpe,this.showConfirmationModal=new t.vpe,this.planId=0,this.isOpenPaymentMethodDialog=!1,this.onDestroy$=new r.xQ}ngOnInit(){this.getActiveTabName()}getCurrentYear(){return(new Date).getFullYear()}getCurrentMonth(){return(new Date).getMonth()}closePaymentMethodPopup(){this.getActiveTabName(),this.isOpenPaymentMethodDialog=!1}getActiveTabName(){this.isLoading=!0,this.paymentMethodService.getActiveOrderTab().pipe((0,n.R)(this.onDestroy$)).subscribe(x=>{this.activeTab=this.getTabName(x),this.isEditMode?this.getAllPaymentMethod():this.getSelectedPaymentMethod()})}getSelectedPaymentMethod(){this.planId?(this.fetchingData.emit(!0),this.paymentMethodService.getDefaultPaymentMethod(this.planId,this.activeTab).subscribe(x=>{this.paymentMethodList=x?[{...x}]:[],this.paymentMethodList.length&&!this.checkIsExpired(0)?this.methodListEmpty.emit(!1):this.methodListEmpty.emit(!0),this.selectedMethodId=x?.id,this.fetchingData.emit(!1),this.isLoading=!1},x=>{this.isLoading=!1,this.fetchingData.emit(!1),this.toastr.error(x?.message||S.xZ.commonErrorMessage,S.xZ.error)})):(this.isLoading=!1,this.fetchingData.emit(!1))}getAllPaymentMethod(){this.paymentMethodService.getDefaultPaymentMethod(this.planId,this.activeTab).subscribe(x=>{this.selectedMethodId=x?.id,this.paymentMethodService.getPaymentMethods().subscribe(R=>{this.isLoading=!1,this.paymentMethodList=R,this.methodListEmpty.emit(!this.paymentMethodList.length)},R=>{this.isLoading=!1,this.toastr.error(R?.message||S.xZ.commonErrorMessage,S.xZ.error)})})}changePaymentMethod(){const x={orderId:this.planId,paymentMethodId:this.selectedMethodId};this.paymentMethodChanging=!0,this.paymentMethodService.changePaymentMethod(x,this.activeTab).subscribe(R=>{this.paymentMethodChanging=!1,this.toastr.success("Your payment method has been updated for this order. ","Success"),this.setShowConfirmationModal(!1),this.closeModal()},R=>{this.paymentMethodChanging=!1,this.setShowConfirmationModal(!1),this.closeModal(),this.toastr.error(R?.message||S.xZ.commonErrorMessage,S.xZ.error)})}getTabName(x){return x===E.SA.ISP_PROXY?"isp":"residential"}setShowConfirmationModal(x){this.showConfirmation=x,this.emitShowConfirmationModal()}emitShowConfirmationModal(){this.showConfirmationModal.emit(this.showConfirmation)}checkIsExpired(x){return this.getCurrentYear()>this.paymentMethodList[x].exp_year||this.getCurrentYear()==this.paymentMethodList[x].exp_year&&this.getCurrentMonth()>=this.paymentMethodList[x].exp_month}closeModal(){this.closePaymentMethodModal.emit(!1)}ngOnDestroy(){this.onDestroy$?.next(),this.onDestroy$?.complete()}}return b.\u0275fac=function(x){return new(x||b)(t.Y36(k.X),t.Y36(N._W))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-payment-method-list"]],inputs:{isEditMode:"isEditMode",planId:"planId"},outputs:{closePaymentMethodModal:"closePaymentMethodModal",fetchingData:"fetchingData",methodListEmpty:"methodListEmpty",showConfirmationModal:"showConfirmationModal"},decls:3,vars:3,consts:[[4,"ngIf"],["class","border-rounded shimmer-box shine mt-2",4,"ngFor","ngForOf"],[1,"border-rounded","shimmer-box","shine","mt-2"],[1,"d-flex","justify-content-center","align-items-center"],["height","60px","src","../../../../assets/images/order/empty-order.svg"],[1,"ml-2",2,"color","#656c7c"],[4,"ngFor","ngForOf"],[1,"list-container","form-check-label","my-2",3,"ngClass","click"],[1,"form-check","d-flex","align-items-center"],[1,"d-flex","align-items-center"],["type","radio","name","exampleRadios","value","option1",1,"form-check-input","w-15","mb-1",3,"disabled","checked"],[1,"px-3","d-flex","align-items-center"],[1,"text-white"],["class","subTitle d-inline-flex w-200",4,"ngIf"],[1,"expiry"],[1,"d-inline-flex","align-items-center"],[1,"mx-1","d-flex"],["class","defaultMethod mx-1",4,"ngIf"],["class","expiresMethod mx-1",4,"ngIf"],["height","55px","width","55px","alt","",3,"src"],[1,"subTitle","d-inline-flex","w-200"],[1,"subTitle","d-inline-block","overflow-elipses"],[1,"defaultMethod","mx-1"],[1,"expiresMethod","mx-1"],["id","update-btn",4,"ngIf"],["id","update-btn"],["type","button",1,"submit_btn","add-btn",3,"disabled","click"],["id","confirmation-modal",1,"row","p-3","d-flex"],[1,"col-12","pb-3"],[1,"row","d-flex","modal-footer"],[1,"col-12","flex-end"],["type","button",1,"btn","cancel-btn",2,"padding","0.7rem 0.8rem",3,"disabled","click"],["type","button",1,"btn","oculus_btn","btn-primary","btn-save",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(x,R){1&x&&(t.YNc(0,B,2,2,"ng-container",0),t.YNc(1,X,5,0,"ng-container",0),t.YNc(2,F,4,3,"ng-container",0)),2&x&&(t.Q6J("ngIf",R.isLoading),t.xp6(1),t.Q6J("ngIf",!R.paymentMethodList.length&&!R.isLoading),t.xp6(1),t.Q6J("ngIf",!R.isLoading))},dependencies:[u.mk,u.sg,u.O5,u.rS],styles:[".shimmer-box[_ngcontent-%COMP%]{height:15px}.w-15[_ngcontent-%COMP%]{width:18px;height:18px}.selected[_ngcontent-%COMP%]{border:2px solid rgba(0,123,255,.7607843137)!important;background:rgba(0,123,255,.0705882353)}.list-container[_ngcontent-%COMP%]{border:2px solid #41475a;display:inline-flex;padding:.5rem 1rem;width:100%;cursor:pointer;align-items:center;justify-content:space-between;border-radius:5px}.list-container[_ngcontent-%COMP%]:hover{background:rgba(0,123,255,.0705882353)}.expiry[_ngcontent-%COMP%]{opacity:.9;font-weight:100;font-size:small}.disabledLabel[_ngcontent-%COMP%]{opacity:.5}.disabledLabel[_ngcontent-%COMP%]:hover{background:transparent}.subTitle[_ngcontent-%COMP%]{font-size:13px!important;opacity:.7;font:small-caption}.shine[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(221,221,221,0) 0%,rgba(251,251,251,0) 20%,rgba(65,71,90,.2117647059) 40%,#41475a 100%)}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end}.btn-save[_ngcontent-%COMP%]{width:max-content}"]}),b})()},9449:(rt,tt,p)=>{p.d(tt,{$:()=>ft});var t=p(4650),r=p(7489),n=p.n(r),E=p(4608),S=p(1338),k=p(6349),N=p(1507),u=p(5628),G=p(7185),q=p(6895),B=p(6907),X=p(82),Q=p(7224),H=p(6716),w=p(4719);function D(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"p"),t._uU(2," You are purchasing the Oculus Retail plan which is a high quality proxy plan which allows you to access the residential network on retail websites. "),t._UZ(3,"br")(4,"br"),t._uU(5," We will attempt to confirm your information to ensure that it matches with your identity. If you are a customer outside of the United States additional verification will be required such as your drivers license and or Identification Card in the next screen. "),t._UZ(6,"br")(7,"br"),t._uU(8," We require this information to verify and grant you access to an exclusive pool of IPs on a secured network. "),t._UZ(9,"br")(10,"br"),t._uU(11," If you do not want to complete this verification process, you will not be able to purchase the Retail Residential Plan. "),t._UZ(12,"br")(13,"br"),t._uU(14," The following conditions must be met for this plan: "),t.qZA(),t.TgZ(15,"ul",9)(16,"li"),t._uU(17," The credit card you are using should match the exact name you used to sign up on the Oculus Website. "),t.qZA(),t.TgZ(18,"li"),t._uU(19," The IP address from where you are visiting the site, has to match the country in your profile. "),t.qZA(),t.TgZ(20,"li"),t._uU(21,"You must select a bot from the dropdown in the profile menu."),t.qZA()(),t.TgZ(22,"label",10)(23,"input",11),t.NdJ("ngModelChange",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.isKYCVerificationConditionAccepted=m)}),t.qZA(),t._UZ(24,"span",12),t.TgZ(25,"span",13),t._uU(26," Please check here If you understand these terms and to continue with KYC "),t.qZA()(),t.BQk()}if(2&g){const i=t.oxw();t.xp6(23),t.Q6J("ngModel",i.isKYCVerificationConditionAccepted)}}function U(g,Z){1&g&&(t.TgZ(0,"div"),t._UZ(1,"div",14),t.qZA())}function Y(g,Z){if(1&g){const i=t.EpF();t.TgZ(0,"div",15)(1,"button",16),t.NdJ("click",function(){t.CHM(i);const m=t.oxw();return t.KtG(m.close.emit(!0))}),t._uU(2," Close "),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){t.CHM(i);const m=t.oxw();return t.KtG(m.loadKYCVerification())}),t._uU(4," Continue to KYC "),t.qZA()()}}let et=(()=>{class g{constructor(i,y,m){this.toastService=i,this.orderService=y,this.authenticationService=m,this.kycConfirmation=!0,this.token="",this.isKYCVerificationConditionAccepted=!1,this.close=new t.vpe,this.openOrderSummaryDialog=new t.vpe}ngOnInit(){console.log("selected Proxy",this.selectedProxyConfig)}loadKYCVerification(){this.isKYCVerificationConditionAccepted?(this.kycConfirmation=!1,n().delay(()=>{this.authenticationService.analyticsEventTracking(H.T.KYC_CLICKED);let i=document.querySelector(".kycVerification");if(console.log("token container..",this.token,i),i){let y=document.createElement("iframe");y.setAttribute("src","https://kyc.brightdata.com/#"+this.token),y.setAttribute("allow","camera"),y.setAttribute("frameborder","0"),y.setAttribute("class","responsive-iframe"),y.style.overflow="hidden",y.style.width="100%",y.style.height="100%",i.appendChild(y),window.addEventListener("message",m=>{if(console.log("event",m),"https://kyc.brightdata.com"==m.origin&&("app_wrapper_size"!=m.data.type||!m.data.size))if("verification_result"==m.data.type){let A=!1;m.data.approved&&!A?(this.orderService.approvedKYCStatus().pipe((0,Q.P)()).subscribe(nt=>{console.log("response: ",nt),this.close.emit(!0),A=!0,this.openOrderSummaryDialog.emit(this.selectedProxyConfig)},nt=>{this.authenticationService.analyticsEventTracking(H.T.KYC_FAILED),this.toastService.error(S.xZ.commonErrorMessage,S.xZ.error)}),console.log("approved : "+m.data.approved),this.authenticationService.analyticsEventTracking(H.T.KYC_SUCCESS),this.toastService.success(S.xZ.confirmIdentification,S.xZ.success)):(console.log("Decline reason: "+m.data.error),this.authenticationService.analyticsEventTracking(H.T.KYC_FAILED),this.orderService.updateKycErrorStatus(m?.data?.error||"").subscribe(nt=>{console.log("response status",nt)},nt=>{console.log("error: ",nt)}),this.toastService.error(m.data.error,S.xZ.error))}else"contact_us"==m.data.type?window.location.pathname="contact":"close"==m.data.type&&this.close.emit(!0)})}},0)):this.toastService.error(S.xZ.commonAcceptTermsAndConditionErrorMessage,S.xZ.validationErrorMessage)}}return g.\u0275fac=function(i){return new(i||g)(t.Y36(G._W),t.Y36(u.px),t.Y36(u.$h))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-kyc-confirmation"]],inputs:{token:"token",selectedProxyConfig:"selectedProxyConfig"},outputs:{close:"close",openOrderSummaryDialog:"openOrderSummaryDialog"},decls:12,vars:4,consts:[[1,"modal-dialog","modal-dialog-centered","mt-4"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"condition-text"],[1,"checkbox","pl-36"],["type","checkbox","id","checkboxKYCConfirmation","name","checkboxKYCConfirmation",1,"chkTermConditionForPurchase",2,"-webkit-appearance","checkbox !important",3,"ngModel","ngModelChange"],[1,"checkmark"],[1,"confirmation-text"],[1,"kycVerification"],[1,"modal-footer"],["type","button",1,"btn","w-100","float-left",3,"click"],["type","button",1,"submit_btn","w-150","btn-primary",3,"click"]],template:function(i,y){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return y.close.emit(!0)}),t.TgZ(6,"span",5),t._uU(7,"\xd7"),t.qZA()()(),t.TgZ(8,"div",6),t.YNc(9,D,27,1,"ng-container",7),t.YNc(10,U,2,0,"div",7),t.qZA(),t.YNc(11,Y,5,0,"div",8),t.qZA()()),2&i&&(t.xp6(4),t.hij(" ",y.kycConfirmation?"KYC Confirmation":"KYC Verification"," "),t.xp6(5),t.Q6J("ngIf",y.kycConfirmation),t.xp6(1),t.Q6J("ngIf",!y.kycConfirmation),t.xp6(1),t.Q6J("ngIf",y.kycConfirmation))},dependencies:[q.O5,w.Wl,w.JJ,w.On],styles:[".modal-dialog[_ngcontent-%COMP%]{border-radius:5px;max-width:940px!important;color:#bbb;padding:0;margin:0 auto;box-shadow:0 0 40px #0006}.modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgb(65,71,90)}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#2e3342}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#bbb}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .kycVerification[_ngcontent-%COMP%]{background-color:#fff;height:73vh;position:relative}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .condition-text[_ngcontent-%COMP%]{list-style-type:disc;margin:0 24px 24px}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .pl-36[_ngcontent-%COMP%]{padding-left:3rem}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .pl-36[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{margin-left:10px}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .pl-36[_ngcontent-%COMP%]   .confirmation-text[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#dfdfdf}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgb(65,71,90);justify-content:space-between}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:5px;font-size:15px;line-height:1.2;font-weight:500;letter-spacing:.1px;text-align:center;padding:10px;box-shadow:0 2px 4px #00000026;transition:.4s;background-color:#cac4c4}"]}),g})();var L=p(5958),j=p(6373);function M(g,Z){if(1&g&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.hij(" ",null==i?null:i.plan_name," ")}}function I(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,M,2,1,"option",27),t.BQk()),2&g){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.cardBandwidths)}}function F(g,Z){if(1&g&&(t.TgZ(0,"li",28),t._UZ(1,"img",29)(2,"span",30),t.qZA()),2&g){const i=Z.$implicit,y=t.oxw(3);t.xp6(1),t.Q6J("src",null!=i&&i.isPlanAvailable?"assets/images/check-green.svg":"assets/images/cancel-red.png",t.LSH),t.xp6(1),t.Q6J("innerHTML",y.setTagData(null==i?null:i.description),t.oJD)}}function W(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"h1",8),t._uU(4),t.qZA()(),t.TgZ(5,"div",9)(6,"div",10)(7,"div",11)(8,"span",12),t._uU(9,"Highest Success"),t.qZA()(),t.TgZ(10,"div",13)(11,"span",14),t._uU(12),t.qZA()(),t.TgZ(13,"div",15)(14,"p"),t._uU(15),t.qZA()(),t.TgZ(16,"div",16)(17,"span",17),t._uU(18,"Bandwidth"),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"select",18),t.NdJ("change",function(m){t.CHM(i);const A=t.oxw(2);return t.KtG(A.changeBandwidth(m))}),t.YNc(21,I,2,1,"ng-container",2),t.qZA()(),t.TgZ(22,"ul",19),t.YNc(23,F,3,2,"li",20),t.qZA()(),t._UZ(24,"hr",21),t.TgZ(25,"div",22)(26,"span",23),t._uU(27,"$"),t.qZA(),t.TgZ(28,"span",24),t._uU(29),t.qZA()(),t.TgZ(30,"div",25)(31,"a",26),t.NdJ("click",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m.purchase(m.selectedProxy))}),t._uU(32,"SOLD OUT"),t.qZA()()()(),t.BQk()}if(2&g){const i=t.oxw(2);t.xp6(4),t.Oqu(null==i.card?null:i.card.plan_label),t.xp6(8),t.hij(" ",null==i.selectedProxy?null:i.selectedProxy.plan_name," "),t.xp6(3),t.hij("Valid for ",null==i.selectedProxy?null:i.selectedProxy.proxy_duration,""),t.xp6(6),t.Q6J("ngIf",i.cardBandwidths),t.xp6(2),t.Q6J("ngForOf",null==i.networkProxyTags?null:i.networkProxyTags.network_extreme),t.xp6(6),t.hij(" ",i.selectedProxy.price,"")}}const b=function(g){return{active:g}};function J(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",36),t.NdJ("click",function(){const A=t.CHM(i).$implicit,nt=t.oxw(3);return t.KtG(nt.selectCardMonth(A))}),t._uU(2),t.qZA(),t.BQk()}if(2&g){const i=Z.$implicit,y=t.oxw(3);t.xp6(1),t.ekj("card-btn",y.isExtendPlan),t.Q6J("ngClass",t.VKq(4,b,y.selectedMonth===i)),t.xp6(1),t.hij(" ",i," ")}}function x(g,Z){if(1&g&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.hij(" ",i," ")}}function R(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,x,2,1,"option",27),t.BQk()),2&g){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.cardQuantities)}}function K(g,Z){if(1&g&&(t.TgZ(0,"li",28),t._UZ(1,"img",29)(2,"span",30),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.Q6J("src",null!=i&&i.isPlanAvailable?"assets/images/check-green.svg":"assets/images/cancel-red.png",t.LSH),t.xp6(1),t.Q6J("innerHTML",null==i?null:i.description,t.oJD)}}function ot(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",9)(3,"div",10)(4,"div",31)(5,"span",14),t._uU(6," Datacenter Proxies "),t.qZA()(),t.TgZ(7,"div",32),t.YNc(8,J,3,6,"ng-container",27),t.qZA(),t.TgZ(9,"div",33)(10,"span",17),t._uU(11,"Quantity"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"select",34),t.NdJ("ngModelChange",function(m){t.CHM(i);const A=t.oxw(2);return t.KtG(A.selectedQuntity=m)})("change",function(m){t.CHM(i);const A=t.oxw(2);return t.KtG(A.changeQuantity(m))}),t.YNc(14,R,2,1,"ng-container",2),t.qZA()(),t.TgZ(15,"ul",19),t.YNc(16,K,3,2,"li",20),t.qZA()(),t._UZ(17,"hr",21),t.TgZ(18,"div",22)(19,"span",23),t._uU(20,"$"),t.qZA(),t.TgZ(21,"span",24),t._uU(22),t.qZA()(),t.TgZ(23,"div",25)(24,"a",35),t.NdJ("click",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m.purchase(m.selectedSharedProxyPrice))}),t._uU(25," Purchase "),t.qZA()()()(),t.BQk()}if(2&g){const i=t.oxw(2);t.xp6(1),t.ekj("width-93",i.isExtendPlan),t.xp6(7),t.Q6J("ngForOf",i.planDuration),t.xp6(5),t.Q6J("ngModel",i.selectedQuntity),t.xp6(1),t.Q6J("ngIf",i.cardQuantities),t.xp6(2),t.Q6J("ngForOf",i.sharedDataDescription),t.xp6(6),t.hij(" ",null==i.selectedSharedProxyPrice?null:i.selectedSharedProxyPrice.price,"")}}function C(g,Z){if(1&g&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.hij(" ",null==i?null:i.plan_name," ")}}function v(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,C,2,1,"option",27),t.BQk()),2&g){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.cardBandwidths)}}function _(g,Z){if(1&g&&(t.TgZ(0,"li",28),t._UZ(1,"img",29)(2,"span",30),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.Q6J("src",null!=i&&i.isPlanAvailable?"assets/images/check-green.svg":"assets/images/cancel-red.png",t.LSH),t.xp6(1),t.Q6J("innerHTML",null==i?null:i.description,t.oJD)}}function c(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"h1",8),t._uU(4),t.qZA()(),t.TgZ(5,"div",9)(6,"div",10)(7,"div",11)(8,"span",12),t._uU(9,"Retail Residential"),t.qZA()(),t.TgZ(10,"div",13)(11,"span",14),t._uU(12),t.qZA()(),t.TgZ(13,"div",15)(14,"p"),t._uU(15),t.qZA()(),t.TgZ(16,"div",16)(17,"span",17),t._uU(18,"Bandwidth"),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"select",18),t.NdJ("change",function(m){t.CHM(i);const A=t.oxw(2);return t.KtG(A.changeBandwidth(m))}),t.YNc(21,v,2,1,"ng-container",2),t.qZA()(),t.TgZ(22,"ul",19),t.YNc(23,_,3,2,"li",20),t.qZA()(),t._UZ(24,"hr",21),t.TgZ(25,"div",22)(26,"span",23),t._uU(27,"$"),t.qZA(),t.TgZ(28,"span",24),t._uU(29),t.qZA()(),t.TgZ(30,"div",25)(31,"a",35),t.NdJ("click",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m.purchase(m.selectedProxy))}),t._uU(32),t.qZA()()()(),t.BQk()}if(2&g){const i=t.oxw(2);t.xp6(1),t.ekj("width-93",i.isExtendPlan),t.xp6(3),t.Oqu(null==i.card?null:i.card.plan_label),t.xp6(8),t.hij(" ",null==i.selectedProxy?null:i.selectedProxy.plan_name," "),t.xp6(3),t.hij("Valid for ",null==i.selectedProxy?null:i.selectedProxy.proxy_duration,""),t.xp6(6),t.Q6J("ngIf",i.cardBandwidths),t.xp6(2),t.Q6J("ngForOf",null==i.networkProxyTags?null:i.networkProxyTags.network_retail),t.xp6(6),t.hij(" ",null==i.selectedProxy?null:i.selectedProxy.price,""),t.xp6(2),t.ekj("btn-disabled",i.checkKycStatus),t.xp6(1),t.hij(" ",i.checkKycStatus?"Checking KYC status...":"Purchase"," ")}}function P(g,Z){if(1&g&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.hij(" ",null==i?null:i.plan_name," ")}}function f(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,P,2,1,"option",27),t.BQk()),2&g){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.cardBandwidths)}}function V(g,Z){if(1&g&&(t.TgZ(0,"li",28),t._UZ(1,"img",29)(2,"span",30),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.Q6J("src",null!=i&&i.isPlanAvailable?"assets/images/check-green.svg":"assets/images/cancel-red.png",t.LSH),t.xp6(1),t.Q6J("innerHTML",null==i?null:i.description,t.oJD)}}function it(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"h1",8),t._uU(4),t.qZA()(),t.TgZ(5,"div",9)(6,"div",10)(7,"div",13)(8,"span",14),t._uU(9),t.qZA()(),t.TgZ(10,"div",15)(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div",16)(14,"span",17),t._uU(15,"Bandwidth"),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"select",18),t.NdJ("change",function(m){t.CHM(i);const A=t.oxw(2);return t.KtG(A.changeBandwidth(m))}),t.YNc(18,f,2,1,"ng-container",2),t.qZA()(),t.TgZ(19,"ul",19),t.YNc(20,V,3,2,"li",20),t.qZA()(),t._UZ(21,"hr",21),t.TgZ(22,"div",22)(23,"span",23),t._uU(24,"$"),t.qZA(),t.TgZ(25,"span",24),t._uU(26),t.qZA()(),t.TgZ(27,"div",25)(28,"a",35),t.NdJ("click",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m.purchase(m.selectedProxy))}),t._uU(29," Purchase "),t.qZA()()()(),t.BQk()}if(2&g){const i=t.oxw(2);t.xp6(1),t.ekj("width-93",i.isExtendPlan),t.xp6(3),t.Oqu(null==i.card?null:i.card.plan_label),t.xp6(5),t.hij(" ",null==i.selectedProxy?null:i.selectedProxy.plan_name," "),t.xp6(3),t.hij("Valid for ",null==i.selectedProxy?null:i.selectedProxy.proxy_duration,""),t.xp6(6),t.Q6J("ngIf",i.cardBandwidths&&(null==i.cardBandwidths?null:i.cardBandwidths.length)),t.xp6(2),t.Q6J("ngForOf",null==i.networkProxyTags?null:i.networkProxyTags.network_performance),t.xp6(6),t.hij(" ",i.selectedProxy.price,"")}}function st(g,Z){if(1&g&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&g){const i=Z.$implicit;t.xp6(1),t.hij(" ",null==i?null:i.plan_name," ")}}function ct(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,st,2,1,"option",27),t.BQk()),2&g){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.cardBandwidths)}}function lt(g,Z){if(1&g&&(t.TgZ(0,"li",28),t._UZ(1,"img",29)(2,"span",30),t.qZA()),2&g){const i=Z.$implicit,y=t.oxw(3);t.xp6(1),t.Q6J("src",null!=i&&i.isPlanAvailable?"assets/images/check-green.svg":"assets/images/cancel-red.png",t.LSH),t.xp6(1),t.Q6J("innerHTML",y.setTagData(null==i?null:i.description),t.oJD)}}const dt=function(g){return{"btn-disabled":g}};function pt(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"h1",8),t._uU(4),t.qZA()(),t.TgZ(5,"div",9)(6,"div",10)(7,"div",11)(8,"span",37),t._uU(9),t.qZA()(),t.TgZ(10,"div",13)(11,"span",14),t._uU(12),t.qZA()(),t.TgZ(13,"div",15)(14,"p"),t._uU(15),t.qZA()(),t.TgZ(16,"div",16)(17,"span",17),t._uU(18,"Bandwidth"),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"select",18),t.NdJ("change",function(m){t.CHM(i);const A=t.oxw(2);return t.KtG(A.changeBandwidth(m))}),t.YNc(21,ct,2,1,"ng-container",2),t.qZA()(),t.TgZ(22,"ul",19),t.YNc(23,lt,3,2,"li",20),t.qZA()(),t._UZ(24,"hr",21),t.TgZ(25,"div",22)(26,"span",23),t._uU(27,"$"),t.qZA(),t.TgZ(28,"span",24),t._uU(29),t.qZA()(),t.TgZ(30,"div",25)(31,"a",38),t.NdJ("click",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m.purchase(m.selectedProxy))}),t._uU(32),t.qZA()()()(),t.BQk()}if(2&g){const i=t.oxw(2);t.xp6(4),t.Oqu(null==i.card?null:i.card.plan_label),t.xp6(5),t.Oqu("Highest Quality"),t.xp6(3),t.hij(" ",null==i.selectedProxy?null:i.selectedProxy.plan_name," "),t.xp6(3),t.hij("Valid for ",null==i.selectedProxy?null:i.selectedProxy.proxy_duration,""),t.xp6(6),t.Q6J("ngIf",i.cardBandwidths),t.xp6(2),t.Q6J("ngForOf",null==i.networkProxyTags?null:i.networkProxyTags.network_private_reserve),t.xp6(6),t.hij(" ",i.selectedProxy.price,""),t.xp6(2),t.Q6J("ngClass",t.VKq(9,dt,(null==i.selectedProxy?null:i.selectedProxy.no_of_proxies)>(null==i.card?null:i.card.availableStock))),t.xp6(1),t.hij(" ",(null==i.selectedProxy?null:i.selectedProxy.no_of_proxies)>(null==i.card?null:i.card.availableStock)?"SOLD OUT":"Purchase"," ")}}function _t(g,Z){1&g&&(t.TgZ(0,"div",39),t._UZ(1,"img",40)(2,"img",41)(3,"img",42)(4,"img",43)(5,"img",44),t.qZA())}function gt(g,Z){if(1&g&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,W,33,6,"ng-container",2),t.YNc(3,ot,26,7,"ng-container",2),t.YNc(4,c,33,11,"ng-container",2),t.YNc(5,it,30,8,"ng-container",2),t.YNc(6,pt,33,11,"ng-container",2),t.YNc(7,_t,6,0,"div",5),t.qZA()()),2&g){const i=t.oxw();t.ekj("width-100",!i.isFooterImagesDisplay),t.xp6(2),t.Q6J("ngIf","Oculus_Network_ISP"===(null==i.card?null:i.card.master_plan_name)),t.xp6(1),t.Q6J("ngIf","Shared_ISP"===(null==i.card?null:i.card.master_plan_name)),t.xp6(1),t.Q6J("ngIf","Oculus_Network_Retail"===(null==i.card?null:i.card.master_plan_name)),t.xp6(1),t.Q6J("ngIf","Premium_Private"===(null==i.card?null:i.card.master_plan_name)),t.xp6(1),t.Q6J("ngIf",(null==i.card?null:i.card.master_plan_name)===i.residnetialType.OCULUS_PRIVATE_RESERVE),t.xp6(1),t.Q6J("ngIf",i.isFooterImagesDisplay)}}function mt(g,Z){if(1&g){const i=t.EpF();t.TgZ(0,"div",45)(1,"custom-modal",46),t.NdJ("onClose",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.closeDialog(m))}),t.TgZ(2,"app-order-summary",47),t.NdJ("closedModal",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.closeDialog(m))}),t.qZA()()()}if(2&g){const i=t.oxw();t.xp6(1),t.Q6J("addClass","order-summary-modal"),t.xp6(1),t.Q6J("typeProxy",i.basicEnumType.PREMIUM)("residentialProxyType",i.residentialPlanType)("extendPlanData",i.extendPlanData)("proxyData",i.proxyData)("isExtendPlan",i.isExtendPlan)("points",i.points)}}function ht(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"custom-modal")(2,"app-profile",48),t.NdJ("close",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.closeProfile(m))}),t.qZA()(),t.BQk()}}function ut(g,Z){if(1&g){const i=t.EpF();t.ynx(0),t.TgZ(1,"custom-modal",49)(2,"app-kyc-confirmation",50),t.NdJ("close",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.closeKYC(m))})("openOrderSummaryDialog",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.openOrderSummary(m))}),t.qZA()(),t.BQk()}if(2&g){const i=t.oxw();t.xp6(1),t.Q6J("width","100%"),t.xp6(1),t.Q6J("token",i.token)("selectedProxyConfig",i.selectedProxy)}}function xt(g,Z){if(1&g){const i=t.EpF();t.TgZ(0,"div",45)(1,"div",4)(2,"div",51)(3,"custom-modal",52),t.NdJ("onClose",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.closeLoginEvent(m))}),t.ynx(4),t.TgZ(5,"app-login-modal",53),t.NdJ("closedModal",function(m){t.CHM(i);const A=t.oxw();return t.KtG(A.closeLoginEvent(m))}),t.qZA(),t.BQk(),t.qZA()()()()}2&g&&(t.xp6(5),t.Q6J("type","purchase"))}let ft=(()=>{class g{constructor(i,y,m,A){this.customModalService=i,this.authenticationService=y,this.orderService=m,this.toastrService=A,this._cdr=(0,t.f3M)(t.sBO),this.isFooterImagesDisplay=!1,this.isExtendPlan=!1,this.extendPlanData=null,this.justForTheFlow=!1,this.closeOrderSummary=new t.vpe,this.checkKycStatus=!1,this.image="",this.sharedDataDescription=[{isPlanAvailable:!0,description:"DC ISP IPs"},{isPlanAvailable:!0,description:"Country Selection"},{isPlanAvailable:!0,description:"99.9% Uptime"},{isPlanAvailable:!0,description:"Access to all sites"},{isPlanAvailable:!0,description:"Best discount value plan"}],this.selectedMonth="",this.cardMonths=[],this.cardQuantities=[],this.displayPopUp=!1,this.points="",this.basicEnumType=E._W,this.profile=!1,this.isCountryAvailable=!1,this.kycConfirmation=!1,this.token="",this.openLogin=!1,this.networkProxyTags=E.K6,this.residentialProxyTypeEnum=E.sz,this.residentialPlanType=E.sz.OCULUS_NETWORK_EXTREME,this.residnetialType=E.Jb}ngOnInit(){if(this.cardSelected={},console.log("cards---Residencial----\x3e this.cardname",this.card),console.log("cardLocation",this.cardLocation),this.card){this.card=r.first(this.card),console.log("this.card",this.card),this.setCardDuration(),this.setQuntity(),this.cardBandwidths=this.card.residentialPlans;var y=r.first(this.cardBandwidths);this.cardSelected.bandwidth=y.plan_name,this.setSelectedProxy()}this.justForTheFlow&&this.purchase(this.selectedProxy)}setCardDuration(){this.planDuration=[...new Set(this.card.residentialPlans.map(i=>i.proxy_duration.trim()))],this.selectedMonth=this.planDuration[0],console.log("this.cardMonths",this.cardMonths)}setQuntity(){this.cardQuantities=[...new Set(this.card.residentialPlans.map(i=>i.no_of_proxies))],this.selectedQuntity=this.cardQuantities[0],this.setSharedProxiesPrice(),console.log("this.cardMquntity",this.cardQuantities)}changeBandwidth(i){this.cardSelected.bandwidth=i.target.value,this.setSelectedProxy()}changeQuantity(i){this.selectedQuntity=i.target.value,console.log("changeQuantity",i.target.value),this.setSharedProxiesPrice()}selectCardMonth(i){this.selectedMonth=i,console.log("selectedmonth",this.selectedMonth),this.selectedQuntity=this.cardQuantities[0],this.setSharedProxiesPrice()}setSharedProxiesPrice(){console.log("this.selectedQuntity",this.selectedQuntity),console.log("this.selectedMonth",this.selectedMonth),this.selectedSharedProxyPrice=this.card.residentialPlans.find(i=>i.no_of_proxies==this.selectedQuntity&&i.proxy_duration.trim()==this.selectedMonth),console.log("selectedSharedProxyPrice",this.selectedSharedProxyPrice)}setSelectedProxy(){const i=k.ar(this.card.residentialPlans,{plan_name:this.cardSelected.bandwidth});this.selectedProxy=i&&i.length>0?i[0]:null}loginUserInfo(i){"Oculus_Network_Retail"===this.card.master_plan_name?this.authenticationService.getUserInfo().subscribe(y=>{console.log("Response value",y),this.residentialPlanType=E.sz.OCULUS_NETWORK_RETAIL,y?.country&&y?.firstName&&y?.lastName?(this.checkKycStatus=!0,this.orderService.verifyKYC().subscribe(m=>{if(this.checkKycStatus=!1,1001==+m.code)this.profile=!0,this.toastrService.info("Please update your profile first.","Warning",{closeButton:!0});else if(5001==+m.code)try{let A=JSON.parse(m.errMsg);A&&A.error&&this.toastrService.error(A.error,"Error",{closeButton:!0})}catch{this.toastrService.error(m.errMsg,"Error",{closeButton:!0})}else m.kycVerified&&!1===m.kycVerified&&null===m.token?this.toastrService.error("Something bad happened! Please try again later!","Error",{closeButton:!0}):m.kycVerified&&!0===m.kycVerified?this.openOrderSummary(i):(this.kycConfirmation=!0,this.token=m.token)},m=>{this.checkKycStatus=!1,this.kycConfirmation=!0,this.token="f6437c8f8769c6accbd8bd7103aa6b770584e85d13e5788754256b6633e9755f"})):this.authenticationService.checkUserSession()?(this.toastrService.info("Please update your profile first.","Warning",{closeButton:!0}),this.profile=!0):this.authenticationService.logout()}):(this.residentialPlanType="Premium_Private"===this.card.master_plan_name?this.residentialProxyTypeEnum.OCULUS_NETWORK_PERFORMANCE:"Oculus_Private_Reserve"===this.card.master_plan_name?this.residentialProxyTypeEnum.OCULUS_PRIVATE_RESERVE:"Shared_ISP"===this.card.master_plan_name?this.residentialProxyTypeEnum.OCULUS_SHARED_DATA_CENTER:"Dedicated_DC"===this.card.master_plan_name?this.residentialProxyTypeEnum.OCULUS_DEDICATED_DC:"Shared_DC"===this.card.master_plan_name?this.residentialProxyTypeEnum.OCULUS_SHARED_DC:"ISP_Proxies"===this.card.master_plan_name?this.residentialProxyTypeEnum.OCULUS_ISP_PROXIES:this.residentialProxyTypeEnum.OCULUS_NETWORK_EXTREME,console.log("Buyyyyy-----------------\x3e",this.card.master_plan_name,this.residentialPlanType),this.openOrderSummary(i))}setTagData(i){return(0,S.T8)(i,{"${{key}}":this.selectedProxy.no_of_proxies})}purchase(i){this.points="",console.log("selected proxy",i,this.selectedProxy),this.authenticationService.isUserAuthenticated()?this.loginUserInfo(i):(this.openLogin=!0,this.authenticationService.loginDialogOpen())}closeKYC(i){console.log("kyc closed",i),i&&(this.kycConfirmation=!1)}openOrderSummary(i){console.log("selected Proxies listing",this.selectedProxy,i),this.proxyData=i,this.displayPopUp=!0,this.points=i.price,this.customModalService.open("order-summary")}closeProfile(i){this.profile=!1}closeDialog(i){this.displayPopUp=!1,this.closeOrderSummary.emit()}openCheckoutPage(i){this.openLogin=!1}closeLoginEvent(i){document.body.classList.remove("custom-modal-open"),this.openLogin=!1,this.closeOrderSummary.emit()}}return g.\u0275fac=function(i){return new(i||g)(t.Y36(N.k),t.Y36(u.$h),t.Y36(u.px),t.Y36(G._W))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-residential-card"]],inputs:{card:"card",cardLocation:"cardLocation",isFooterImagesDisplay:"isFooterImagesDisplay",isExtendPlan:"isExtendPlan",extendPlanData:"extendPlanData",justForTheFlow:"justForTheFlow"},outputs:{closeOrderSummary:"closeOrderSummary"},decls:5,vars:5,consts:[["class","plan-container animate__animated animate__fadeIn",3,"width-100",4,"ngIf"],["class","purchase-dialog",4,"ngIf"],[4,"ngIf"],[1,"plan-container","animate__animated","animate__fadeIn"],[1,"row"],["class","col-12 mt-5 plan-container",4,"ngIf"],[1,"col-12","m-2"],[1,"card-title","mb-4"],[1,"card-title-text"],[1,"plan-format"],[1,"plan-inner"],[1,"offerprice"],[1,"discount-font"],[1,"p20","mt-3",2,"text-align","center"],[2,"font-size","x-large","font-weight","bold"],[1,"plan-duration"],[1,"m-t-10"],[1,"font-color"],[1,"select-box",3,"change"],[1,"m-t-20",2,"font-size","14px","line-height","30px"],["class","font-color li-space",4,"ngFor","ngForOf"],[2,"border","1px solid #2b2f42"],[1,"p30"],[1,"symbol"],[1,"price-amount",2,"font-size","40px"],[1,"li-space"],[1,"btn-theme","btn-block","btn-disabled",3,"click"],[4,"ngFor","ngForOf"],[1,"font-color","li-space"],["alt","check",1,"check",3,"src"],[1,"text-white","span-space",3,"innerHTML"],[1,"p20","mt-1","mb-4",2,"text-align","center"],["id","month",1,"m-t-20"],[1,"mt-4"],[1,"select-box",3,"ngModel","ngModelChange","change"],[1,"btn-theme","btn-block",3,"click"],[1,"btn","active","btn-button-small","m-r-5",3,"ngClass","click"],[1,"discount-font","custom-tag-margin"],[1,"btn-theme","btn-block",3,"ngClass","click"],[1,"col-12","mt-5","plan-container"],["src","assets/images/footlocker.png","alt","foot-locker",1,"m-3","img_thumb_residential_premium_proxies"],["src","assets/images/shopify.png","alt","shopify",1,"m-3","img_thumb_residential_premium_proxies"],["src","assets/images/snkrs.png","alt","snkrs",1,"m-3","img_thumb_residential_premium_proxies"],["src","assets/images/supreme.png","alt","supreme",1,"m-3","img_thumb_residential_premium_proxies"],["src","assets/images/yeezy.png","alt","yeezy",1,"m-3","img_thumb_residential_premium_proxies"],[1,"purchase-dialog"],["id","order-summary","width","600px",3,"addClass","onClose"],[3,"typeProxy","residentialProxyType","extendPlanData","proxyData","isExtendPlan","points","closedModal"],[3,"close"],[3,"width"],[3,"token","selectedProxyConfig","close","openOrderSummaryDialog"],[1,"col-12"],["id","login","width","600px",3,"onClose"],[3,"type","closedModal"]],template:function(i,y){1&i&&(t.YNc(0,gt,8,8,"div",0),t.YNc(1,mt,3,7,"div",1),t.YNc(2,ht,3,0,"ng-container",2),t.YNc(3,ut,3,3,"ng-container",2),t.YNc(4,xt,6,1,"div",1)),2&i&&(t.Q6J("ngIf",!y.justForTheFlow),t.xp6(1),t.Q6J("ngIf",y.displayPopUp),t.xp6(1),t.Q6J("ngIf",y.profile),t.xp6(1),t.Q6J("ngIf",y.kycConfirmation),t.xp6(1),t.Q6J("ngIf",y.openLogin))},dependencies:[q.mk,q.sg,q.O5,B.R,X.h,et,L.X,w.YN,w.Kr,w.EJ,w.JJ,w.On,j.d],styles:[".plan-container[_ngcontent-%COMP%]{width:70%;margin:0 auto}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]{padding:20px 30px;box-shadow:0 38px 87px #0b0d149e;border-radius:12px;margin:1rem!important;border:1.5px solid #2b2f42;background:linear-gradient(179.93deg,rgba(21,24,36,.3) .07%,#151824 25.47%)}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .plan-duration[_ngcontent-%COMP%]{font-weight:700;font-size:16px;text-align:center;color:#41b787;margin:20px 0 0}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{height:24px!important;width:24px!important}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .plan-format[_ngcontent-%COMP%]   .discount-font[_ngcontent-%COMP%]{margin-top:-10px}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .btn-button-small[_ngcontent-%COMP%]{background:#2b2f42;font-size:18px;line-height:22px;padding:10px 14px;text-align:center;border-radius:6px;color:#fff}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#60f9bf 0%,#0099a5 100%)}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .pricing-quantity[_ngcontent-%COMP%]{text-align:center}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .pricing-quantity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#41b787;margin:20px 0 0;font-size:12px;font-weight:500}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{position:inherit;width:95%;height:42px;top:334px;background:#1f2332;border-radius:6px;color:#fff;padding-left:15px;margin-top:10px}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .li-space[_ngcontent-%COMP%]{padding-top:10px}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{width:24px;font-weight:700;font-size:24px;color:#62fcc1;padding-top:10px;position:absolute}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .font-color[_ngcontent-%COMP%]{color:#a4a9bb}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .span-space[_ngcontent-%COMP%]{padding-left:10px}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .text-white[_ngcontent-%COMP%]{color:#fff!important}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{width:64px;height:31px;font-weight:700;color:#fff;margin-left:18px}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:block;width:100%;text-align:center}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .card-title-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .plan-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}.plan-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .plan-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:110px!important;width:110px!important}.plan-container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]{cursor:pointer!important}.width-100[_ngcontent-%COMP%]{width:100%!important}.width-93[_ngcontent-%COMP%]{max-width:93%!important}.card-btn[_ngcontent-%COMP%]{width:40%;margin:0 10px 10px 0!important}"]}),g})()},3816:(rt,tt,p)=>{p.d(tt,{X:()=>X});var t=p(529),r=p(591),n=p(1737),E=p(4850),S=p(7221),k=p(2587),N=p(1338),u=p(4766),G=p(4650);const q=u.N.baseApiUrl,B={headers:new t.WM({"Content-Type":"application/json"})};let X=(()=>{class Q{constructor(w){this.http=w,this.myOrderActiveTab=new r.X(k.SA.ISP_PROXY)}getActiveOrderTab(){return this.myOrderActiveTab.asObservable()}setActiveOrderTab(w){this.myOrderActiveTab.next(w)}getPaymentMethods(){return this.http.get(q+N.xZ.getAllPaymentMethod,{headers:B.headers}).pipe((0,E.U)(D=>D),(0,S.K)(D=>(0,n._)(D)))}setPaymentMethodAsDefault(w){return this.http.post(q+N.xZ.setPaymentMethodDefault+w,{headers:B.headers}).pipe((0,E.U)(U=>U),(0,S.K)(U=>(0,n._)(U)))}buyNewOrder(w){return this.http.post(q+N.xZ.buyNewPlan,w,{headers:B.headers}).pipe((0,E.U)(U=>U),(0,S.K)(U=>(0,n._)(U)))}getDefaultPaymentMethod(w,D){const U=(0,N.Rr)(N.xZ.getDefaultPaymentMethod,{orderType:D,id:w});return this.http.get(U,{headers:B.headers}).pipe((0,E.U)(Y=>Y),(0,S.K)(Y=>(0,n._)(Y)))}updatePaymentMethod(w){delete(w={...w,...w.billing_address}).billing_address;const D=q+N.xZ.updatePaymentMethod+w.id;return delete w.id,this.http.put(D,w,{headers:B.headers}).pipe((0,E.U)(U=>U),(0,S.K)(U=>(0,n._)(U)))}changePaymentMethod(w,D){const U=(0,N.Rr)(N.xZ.changePaymentMethod,{orderType:D});return this.http.put(U,w,{headers:B.headers}).pipe((0,E.U)(Y=>Y),(0,S.K)(Y=>(0,n._)(Y)))}deletePaymentMethodById(w){return this.http.delete(q+N.xZ.deletePaymentMethod+w,{headers:B.headers}).pipe((0,E.U)(U=>U),(0,S.K)(U=>(0,n._)(U)))}createPaymentMethod(){return this.http.post(q+N.xZ.createPaymentMethod,{headers:B.headers}).pipe((0,E.U)(D=>D),(0,S.K)(D=>(0,n._)(D)))}updateRenewal(w,D){return this.http.post(q+N.xZ.updateSubscriptionForAutoRenew,{subscriptionId:w,autoRenew:D},{headers:B.headers}).pipe((0,E.U)(U=>U),(0,S.K)(U=>(0,n._)(U)))}}return Q.\u0275fac=function(w){return new(w||Q)(G.LFG(t.eN))},Q.\u0275prov=G.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},5958:(rt,tt,p)=>{p.d(tt,{X:()=>C});var t=p(7340),r=p(4650),n=p(4719),E=p(7489),S=p.n(E),k=p(7224),N=p(6716),u=p(5439),G=p.n(u),q=p(4766),B=p(1338),X=p(5140),Q=p(9697),H=p(9356),w=p(7185),D=p(6895),U=p(1405),Y=p(4750),et=p(9919);const L=["loginFormEl"],j=["captchaElem"],M=["email"];function I(v,_){if(1&v){const c=r.EpF();r.TgZ(0,"button",35),r.NdJ("click",function(){r.CHM(c);const f=r.oxw(2);return r.KtG(f.closeModal())}),r.TgZ(1,"span",25),r._uU(2,"\xd7"),r.qZA()()}}function F(v,_){if(1&v&&(r.TgZ(0,"div",36)(1,"p"),r._uU(2),r.qZA()()),2&v){const c=r.oxw(2);let P;r.xp6(2),r.hij(" ",null!=(P=c.loginForm.get("username"))&&null!=P.errors&&P.errors.required?"Email is required":"Email is not valid"," ")}}function W(v,_){1&v&&(r.TgZ(0,"div"),r._uU(1," Password is required "),r.qZA())}function b(v,_){1&v&&(r.TgZ(0,"div"),r._uU(1," Password must be a minimum of 8 characters including uppercase, lowercase and one number. "),r.qZA())}function J(v,_){if(1&v&&(r.TgZ(0,"div",36),r.YNc(1,W,2,0,"div",7),r.YNc(2,b,2,0,"div",7),r.qZA()),2&v){const c=r.oxw(2);let P,f;r.xp6(1),r.Q6J("ngIf",null==(P=c.loginForm.get("jwtPassword"))||null==P.errors?null:P.errors.required),r.xp6(1),r.Q6J("ngIf",(null==(f=c.loginForm.get("jwtPassword"))||null==f.errors?null:f.errors.minlength)||(null==(f=c.loginForm.get("jwtPassword"))||null==f.errors?null:f.errors.pattern))}}function x(v,_){1&v&&r._UZ(0,"span",37)}function R(v,_){if(1&v){const c=r.EpF();r.ynx(0),r.TgZ(1,"div",38),r._UZ(2,"hr"),r._uU(3," OR "),r._UZ(4,"hr"),r.qZA(),r.TgZ(5,"app-google-auth",39),r.NdJ("success",function(){r.CHM(c);const f=r.oxw(2);return f.googleAuth.emit(!0),r.KtG(f.closeModal())}),r.qZA(),r.BQk()}2&v&&(r.xp6(5),r.Q6J("toRedirect",!1))}function K(v,_){if(1&v){const c=r.EpF();r.TgZ(0,"div",8)(1,"div",1)(2,"div",9)(3,"h1"),r._uU(4,"Login"),r.qZA(),r.YNc(5,I,3,0,"button",10),r.qZA()(),r._UZ(6,"div",11),r.TgZ(7,"div",12)(8,"form",13,14)(10,"div",1)(11,"div",15)(12,"div",16),r._UZ(13,"input",17,18),r.YNc(15,F,3,1,"div",19),r.qZA()(),r.TgZ(16,"div",20)(17,"div",21),r._UZ(18,"input",22),r.TgZ(19,"div",23)(20,"a",24),r.NdJ("click",function(){r.CHM(c);const f=r.oxw();return r.KtG(f.show=!f.show)}),r._UZ(21,"i",25),r.qZA()(),r.YNc(22,J,3,2,"div",19),r.qZA()(),r.TgZ(23,"div",26)(24,"div",16)(25,"ngx-recaptcha2",27,28),r.NdJ("success",function(f){r.CHM(c);const V=r.oxw();return r.KtG(V.handleSuccess(f))}),r.qZA()()()()()(),r.TgZ(27,"div",29)(28,"div",30)(29,"button",31),r.NdJ("click",function(){r.CHM(c);const f=r.oxw();return r.KtG(f.login())}),r.YNc(30,x,1,0,"span",32),r._uU(31," Log In to Account "),r.qZA(),r.YNc(32,R,6,1,"ng-container",7),r.ALo(33,"async"),r.qZA(),r.TgZ(34,"a",33),r.NdJ("click",function(){r.CHM(c);const f=r.oxw();return r.KtG(f.redirectTo("forgotpassword"))}),r._uU(35,"Forgot Password?"),r.qZA(),r.TgZ(36,"p"),r._uU(37," Don't have an account? "),r.TgZ(38,"a",34),r.NdJ("click",function(){r.CHM(c);const f=r.oxw();return r.KtG(f.redirectTo("register"))}),r._uU(39,"Sign Up Now"),r.qZA()()()()}if(2&v){const c=r.oxw();let P,f,V,it;r.xp6(5),r.Q6J("ngIf",!c.displayLoader),r.xp6(3),r.Q6J("formGroup",c.loginForm),r.xp6(7),r.Q6J("ngIf",(null==(P=c.loginForm.get("username"))?null:P.errors)&&(null==(P=c.loginForm.get("username"))?null:P.touched)),r.xp6(3),r.Q6J("type",c.show?"text":"password"),r.xp6(3),r.Gre("fa fa-eye",c.show?"-slash":"",""),r.xp6(1),r.Q6J("ngIf",(null==(f=c.loginForm.get("jwtPassword"))?null:f.errors)&&(null==(f=c.loginForm.get("jwtPassword"))?null:f.touched)),r.xp6(3),r.Q6J("siteKey",c.recaptchaKey)("size",c.size)("hl",c.lang)("theme",c.theme)("type",c.typeConfig),r.xp6(4),r.ekj("btn-disabled",c.isLoading||c.loginForm.invalid||!(null!=(V=c.loginForm.get("recaptcha"))&&V.value)),r.Q6J("disabled",c.isLoading||c.loginForm.invalid||!(null!=(it=c.loginForm.get("recaptcha"))&&it.value)),r.xp6(1),r.Q6J("ngIf",c.isLoading),r.xp6(2),r.Q6J("ngIf",r.lcZ(33,18,c.vs.isV2OrV3$))}}function ot(v,_){if(1&v){const c=r.EpF();r.TgZ(0,"div")(1,"app-otp",40),r.NdJ("validateLoginToken",function(f){r.CHM(c);const V=r.oxw();return r.KtG(V.validateToken(f))})("captchaResponse",function(f){r.CHM(c);const V=r.oxw();return r.KtG(V.captchaResponse(f))})("resentOtp",function(f){r.CHM(c);const V=r.oxw();return r.KtG(V.isResentOtp(f))}),r.qZA()()}if(2&v){const c=r.oxw();r.xp6(1),r.Q6J("isLabelDisplay",!0)("type",c.type)("reload2FACaptcha",c.reload2FACaptcha)("loading",c.isLoading)("applyCaptcha",!0)("loginEmail",c.email)}}let C=(()=>{class v{constructor(c,P,f,V,it,st){this.route=c,this.authenticationService=P,this.router=f,this.toastr=V,this.fb=it,this._cdr=st,this.vs=(0,r.f3M)(X.P),this.googleAuth=new r.vpe,this.closedModal=new r.vpe,this.type="",this.isLoading=!1,this.reload2FACaptcha=!1,this.show=!1,this.loginResponse={},this.enable2fa=!1,this.returnUrl="",this.email="",this.displayLoader=!1,this.validateTokenForm=new n.nJ({token:new n.p4("")}),this.captchaResponseString="",this.theme="light",this.size="normal",this.lang="en",this.typeConfig="image",this.recaptchaKey=q.N.recaptchaKey,this.loginForm=this.fb.group({username:new n.p4("",[n.kI.required,n.kI.pattern(N.s9)]),jwtPassword:new n.p4("",[n.kI.required]),recaptcha:new n.p4("")})}ngOnInit(){this.authenticationService.isUserAuthenticated()&&this.router.navigate(["login"]),this.returnUrl=this.route.snapshot.queryParams.returnUrl||this.vs.homeUrl}ngAfterViewInit(){S().delay(()=>{this.emailId&&this.emailId.nativeElement.focus()},400)}handleSuccess(c){console.log(c)}redirectTo(c){this.router.navigate([c])}setFormInputFocus(){for(const c of Object.keys(this.loginForm.controls))if(this.loginForm.controls[c].invalid){this.loginFormEl.nativeElement.querySelector('[formcontrolname="'+c+'"]').focus();break}}captchaResponse(c){this.captchaResponseString=c}login(){this.loginForm.invalid?this.setFormInputFocus():this.loginForm.get("recaptcha")?.value?(this.isLoading=!0,this.loginRequest=this.loginForm.value,this.authenticationService.login(this.loginRequest).pipe((0,k.P)()).subscribe(c=>{if(this.isLoading=!1,this.captchaElement?.reloadCaptcha(),console.log("enabeld login modal",c),this.loginForm.get("recaptcha")?.setValue(null),!0===c.enable2fa){console.log("enabeld login success modal"),this.email=this.loginRequest.username;let f=this.email.split("@")[0].length-2;var P=new RegExp(".{"+f+"}@","g");this.email=this.email.replace(P,"***@"),this.enable2fa=!0,this.toastr.success(this.authenticationService.firstLetterCapitalized(c.message),"Success"),this._cdr.detectChanges()}else console.log("enabeld login modal else error"),"purchase"===this.type?this.closeModal():(this.router.navigate([this.vs.homeUrl]),this.toastr.success("Successfully logged in!","Success")),this._cdr.detectChanges(),this.getLoginTime(c?.expiryDate)},c=>{this.isLoading=!1,console.log(c.status),this.captchaElement?.reloadCaptcha()})):this.toastr.error("Please resolve the captcha and submit!","Captcha Error")}getLoginTime(c){localStorage.setItem(B.xZ.oculusSession,G()(new Date(c)).unix().toString())}closeModal(){document.body.classList.remove("custom-modal-open"),this.closedModal.emit(!0),this._cdr.detectChanges()}isResentOtp(c){this.loginRequest=this.loginForm.value,this.authenticationService.resentOtp(this.loginRequest.username).subscribe(P=>{console.log(P),this.toastr.error("Wait 3 minutes, Our message might be slightly delayed. you can request the login token again after 3  minutes of your last request.","Success")},P=>{console.log(P)})}validateToken(c){this.isLoading=!0,this.reload2FACaptcha=!1;const P=this.loginForm.get("username")?.value;this.authenticationService.validateLogin(c,P,this.captchaResponseString).subscribe(f=>{this.isLoading=!1,this.reload2FACaptcha=!0,"purchase"===this.type?(this.closeModal(),this.getLoginTime(f?.expiryDate)):(this.router.navigate([this.returnUrl]),this.toastr.success("Successfully logged in!","Success")),this._cdr.detectChanges()},f=>{console.log(f),this.isLoading=!1,this.reload2FACaptcha=!0,this._cdr.detectChanges()})}}return v.\u0275fac=function(c){return new(c||v)(r.Y36(Q.gz),r.Y36(H.$),r.Y36(Q.F0),r.Y36(w._W),r.Y36(n.QS),r.Y36(r.sBO))},v.\u0275cmp=r.Xpm({type:v,selectors:[["app-login-modal"]],viewQuery:function(c,P){if(1&c&&(r.Gf(L,5),r.Gf(j,5),r.Gf(M,5)),2&c){let f;r.iGM(f=r.CRH())&&(P.loginFormEl=f.first),r.iGM(f=r.CRH())&&(P.captchaElement=f.first),r.iGM(f=r.CRH())&&(P.emailId=f.first)}},inputs:{type:"type"},outputs:{googleAuth:"googleAuth",closedModal:"closedModal"},decls:12,vars:3,consts:[[1,"container","login-format"],[1,"row"],[1,"col-12","col-12-sm"],[1,"login-part"],[1,"col-12"],[1,"title-section"],["class","register-content",4,"ngIf"],[4,"ngIf"],[1,"register-content"],[1,"col-12","modal-header-padding","d-inline-flex","justify-content-between"],["type","button","class","close","aria-label","Close",3,"click",4,"ngIf"],[1,"alreadyAccount","p-2"],[1,"register-form"],["title","Login form","id","login_form","name","loginForm","role","form",3,"formGroup"],["loginFormEl",""],[1,"col-md-12","col-12"],[1,"form-inputRow"],["type","email","id","email","name","email","placeholder","Email","formControlName","username","ngDefaultControl","",1,"register-input-control"],["email",""],["class","error mt-1",4,"ngIf"],[1,"col-md-12","col-12","mb-2"],[1,"form-inputRow","input-group"],["id","password","name","password","placeholder","Password","formControlName","jwtPassword","ngDefaultControl","",1,"register-input-control",3,"type"],[1,"password-icon"],[1,"black",3,"click"],["aria-hidden","true"],[1,"col-md-12","col-12","mb-20"],["formControlName","recaptcha","ngDefaultControl","",3,"siteKey","size","hl","theme","type","success"],["captchaElem",""],[1,"alreadyAccount","p-4"],[1,"col-md-12","col-12","mt-2"],["id","loginButton","type","submit",1,"submit_btn",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-2","role","status","aria-hidden","true",4,"ngIf"],[1,"forgot_password_link",3,"click"],[3,"click"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"error","mt-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-2"],[1,"d-flex","justify-content-center","align-items-center","class-or"],[3,"toRedirect","success"],[3,"isLabelDisplay","type","reload2FACaptcha","loading","applyCaptcha","loginEmail","validateLoginToken","captchaResponse","resentOtp"]],template:function(c,P){1&c&&(r.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",1)(6,"div",4),r._UZ(7,"div",5),r.qZA()(),r.TgZ(8,"div",1)(9,"div",4),r.YNc(10,K,40,20,"div",6),r.YNc(11,ot,2,6,"div",7),r.qZA()()()()()()()),2&c&&(r.Q6J("@fade",void 0),r.xp6(10),r.Q6J("ngIf",!P.enable2fa),r.xp6(1),r.Q6J("ngIf",P.enable2fa))},dependencies:[D.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,U.to,Y.r,et._,D.Ov],styles:["[_nghost-%COMP%]     app-google-auth .google-button{border:1px solid #d3d3d3;width:100%;padding:10px 15px;display:flex;gap:10px;justify-content:center;align-items:center;border-radius:5px}[_nghost-%COMP%]     app-google-auth .google-button svg{height:23px}[_nghost-%COMP%]     .class-or{gap:1rem;color:#0d0f17}[_nghost-%COMP%]     .class-or hr{border-color:#dcdcde;margin:1.5rem 0;border-top:1px solid #ececef;width:100%}.top-bar[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{background:white;padding:30px 10px}.lable-color[_ngcontent-%COMP%]{padding:5px 0;color:#000}.title-section[_ngcontent-%COMP%]{margin-bottom:40px}.input-group[_ngcontent-%COMP%]{flex-wrap:nowrap}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;color:#fff;line-height:normal;text-align:center;text-transform:capitalize}.title-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;border-style:solid;border-width:2px;border-image-source:linear-gradient(265deg,#0091a7,#ccff90);border-image-slice:1;display:block;margin:14px auto 0}.register-content[_ngcontent-%COMP%]{max-width:380px;margin:auto;color:#bbb!important;border-radius:5px;background-color:#fff;border:1px solid white;box-shadow:0 2px 4px #00000080}.register-form[_ngcontent-%COMP%]{padding:.5rem 2.625rem}.modal-header-padding[_ngcontent-%COMP%]{padding:.5rem 3.625rem!important}h1[_ngcontent-%COMP%]{color:#000!important;opacity:.78;font-size:30px}.close[_ngcontent-%COMP%]{color:#000!important;font-size:2rem;cursor:pointer;margin-right:.275rem}.close[_ngcontent-%COMP%]:hover{color:#000!important;opacity:.75}.form-inputRow[_ngcontent-%COMP%]{margin-bottom:20px}.register-input-control[_ngcontent-%COMP%]{font-family:roboto;font-size:14px;font-weight:500;line-height:normal;color:#002c60;width:100%;border-radius:3px;outline:none;background-color:#f8fafd;border:solid 1px #cbd3df;padding:16px 10px 15px 20px}.form-inputRow[_ngcontent-%COMP%]{margin-bottom:2rem}.form-inputRow[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;top:48px;position:absolute;font-size:12px;bottom:0}.submit_btn[_ngcontent-%COMP%]{font-family:roboto;font-size:14px;font-weight:500;line-height:45px;height:45px;color:#fff;width:100%;border-radius:3px;border:none;outline:none;cursor:pointer;box-shadow:0 2px 3px #75757580;transition:all .2s ease-in-out}.alreadyAccount[_ngcontent-%COMP%]{border-top:1px solid lightgray}.forgot_password_link[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#002c60;line-height:normal;text-align:center;display:block;padding:16px 0}a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;outline:0;transition:all .2s ease-in-out}a[_ngcontent-%COMP%]:hover, p[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:hover{color:#41b787}.black[_ngcontent-%COMP%], div[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#000}.alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#757575;line-height:normal;text-align:center}.alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:#002c60}.login-format[_ngcontent-%COMP%]{min-height:calc(80vh - 260px);margin-top:50px}"],data:{animation:[(0,t.X$)("fade",[(0,t.eR)("void => *",[(0,t.oB)({opacity:0}),(0,t.jt)(700,(0,t.oB)({opacity:1}))])])]}}),v})()},82:(rt,tt,p)=>{p.d(tt,{h:()=>Zt});var t=p(4650),r=p(7489),n=p.n(r),E=p(7224),S=p(6716),k=p(4608),N=p(2587),u=p(1338),G=p(5140),q=p(5628),B=p(7185),X=p(3305),Q=p(6895),H=p(4719),w=p(9541),D=p(5868),U=p(7013),Y=p(9812),et=p(1507),L=p(5218);const j=["ngOtpInput"];function M(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"ng-otp-input",13,14),t.NdJ("onInputChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.onOtpChange(s))}),t.qZA()(),t.TgZ(4,"div",15)(5,"a",16),t.NdJ("click",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.onClickResendToken(s))}),t._uU(6,"I haven't received my code!"),t.qZA()()()}if(2&d){const e=t.oxw();t.xp6(2),t.Q6J("config",null==e.configParams||null==e.configParams.verificationCode?null:e.configParams.verificationCode.config)}}let I=(()=>{class d{constructor(e,o,s){this.orderService=e,this.paymentConfirmationService=o,this.customModalService=s,this.vs=(0,t.f3M)(G.P),this.confirmationTitle="",this.confirmationMessage="",this.confirmBtnTxt="",this.cancelBtnTxt="",this.showOtpInput=!1,this.extendPlanData=null,this.closeBtnClick=new t.vpe,this.confirmBtnClick=new t.vpe,this.resentToken=new t.vpe,this.otp="",this.isLoading=!1,this.residentialProxyOrders=[],this.data=[],this.tableType=N.SA.RESIDENTIAL_PROXY,this.type=N.Le.PERFORMANCE,this.stringUtils=u.xZ}ngOnInit(){}onOtpChange(e){this.otp=e}confirmClick(){this.configParams?.verificationCode&&(this.configParams.verificationCode={...this.configParams?.verificationCode,renewOrderToken:this.otp}),this.confirmBtnClick.emit(!this.configParams||this.configParams),this.extendPlanData&&this.customModalService.close("extend-plan")}getResidentialProxy(){this.isLoading=!0,this.orderService.getResidentialPerformanceOrders().subscribe(e=>{this.residentialProxyOrders=e,this.getPremiumOrder(this.residentialProxyOrders),this.isLoading=!1},()=>{this.residentialProxyOrders=[],this.isLoading=!1})}getPremiumOrder(e){this.data=[],n().forEach(e,(o,s)=>{this.data.push({orderId:o.orderId,orderIndex:`${s+1}`,token:o?.token?o?.token:"N/A",balance:o?.limit?(+o.limit/1e3).toFixed(2):"N/A",datausege:this.tableType===N.SA.SHARED_DATACENTER_PROXY?o.usages:o?.usages||0==+o?.usages?this.orderService.checkStatusAndUsageValue(o.status,+this.orderService.getDataUsage(o.usages,o.limit,this.type)):"N/A",createDate:o?.createDate?new Date(o?.createDate):"",expiryDate:o?.expiryDate?new Date(o?.expiryDate):"",status:"ok"!==o?.status?"expired":"active",autoExtendThreshold:o?.autoExtendThreshold||null,autoRenewCoupon:o?.autoRenewCoupon||null,brightPlanUntilDate:o.brightPlanUntilDate||o.brightPlanUtilDate?new Date(o.brightPlanUntilDate||o.brightPlanUtilDate):"",isDisplayAction:!o.disableAutoRenew,stripeSubscriptionId:o?.stripeSubscriptionId,whitelistIps:o?.whitelistIps||[],no_of_proxies:o?.noOfProxies,planId:o?.planId||5,isVersionV1:!o.disableAutoRenew&&o.version===N.Lh.V2,isAdminGeneratedOrder:o.disableAutoRenew,proxyDuration:o?.proxyDuration,lastStripeTransaction:{lastStripeStatus:o?.lastStripeTransaction?.lastStripeStatus,lastStripeid:o?.lastStripeTransaction?.lastStripeId}})})}onClickResendToken(e){this.resentToken.emit(!0)}closeModal(){this.closeBtnClick.emit({type:this.type})}get isDisabled(){return!!this.configParams?.verificationCode&&(!this.otp||this.otp.length<6)}}return d.\u0275fac=function(e){return new(e||d)(t.Y36(q.px),t.Y36(Y.p),t.Y36(et.k))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-confirmation-popup"]],viewQuery:function(e,o){if(1&e&&t.Gf(j,5),2&e){let s;t.iGM(s=t.CRH())&&(o.ngOtpInput=s.first)}},inputs:{confirmationTitle:"confirmationTitle",confirmationMessage:"confirmationMessage",confirmBtnTxt:"confirmBtnTxt",cancelBtnTxt:"cancelBtnTxt",configParams:"configParams",showOtpInput:"showOtpInput",extendPlanData:"extendPlanData",tableType:"tableType",type:"type"},outputs:{closeBtnClick:"closeBtnClick",confirmBtnClick:"confirmBtnClick",resentToken:"resentToken"},decls:14,vars:12,consts:[["id","viewConfigModal","data-backdrop","static","data-keyboard","false","tabindex","-1","role","dialog","aria-labelledby","myModalLabel",1,"modal","fade","confirmation-modal","d-flex","show","animate__animated","animate__fadeIn"],[1,"modal-dialog","refresh-proxy-dialog","modal-sm","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title",3,"innerHTML"],[1,"modal-body"],[1,"confirmation-message",3,"innerHTML"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","oculus_btn","btn-secondary",3,"disabled","click"],[3,"innerHTML"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"form-inputRow","mt-4","text-center"],[3,"config","onInputChange"],["ngOtpInput",""],[1,"col-12","text-center"],[1,"text-link",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"h5",4),t.qZA(),t.TgZ(6,"div",5),t._UZ(7,"span",6),t.YNc(8,M,7,1,"div",7),t.qZA(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){return o.confirmClick()}),t._UZ(11,"span",10),t.qZA(),t.TgZ(12,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._UZ(13,"span",10),t.qZA()()()()()),2&e&&(t.ekj("theme-white",t.lcZ(1,10,o.vs.isV3$)),t.xp6(5),t.Q6J("innerHTML",o.confirmationTitle,t.oJD),t.xp6(2),t.Q6J("innerHTML",o.confirmationMessage,t.oJD),t.xp6(1),t.Q6J("ngIf",null==o.configParams?null:o.configParams.verificationCode),t.xp6(2),t.ekj("btn-disabled",o.isDisabled),t.Q6J("disabled",o.isDisabled),t.xp6(1),t.Q6J("innerHTML",o.confirmBtnTxt,t.oJD),t.xp6(2),t.Q6J("innerHTML",o.cancelBtnTxt,t.oJD))},dependencies:[Q.O5,L.df,Q.Ov],styles:[".confirmation-modal[_ngcontent-%COMP%]{display:flex;justify-content:center}.confirmation-modal[_ngcontent-%COMP%]   .modal-lg[_ngcontent-%COMP%]{max-width:800px}.confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 1rem!important;border-bottom:1px solid rgb(65,71,90)}.confirmation-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-weight:400;font-size:18px;color:#ddd}.confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{text-align:left;max-width:600px!important;padding:1.25rem;text-align:justify}.confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]     .otp-input{font-size:18px!important}.confirmation-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .custome-hr[_ngcontent-%COMP%]{border-top:1px solid #dbe2ec}.confirmation-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#2e3342;border:1px solid rgb(65,71,90);color:#bbb;box-shadow:0 0 40px #0006}.confirmation-modal[_ngcontent-%COMP%]   .no-gutters[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]:nth-of-type(2n + 1)   .list-group-item[_ngcontent-%COMP%]{border-right:0px}.confirmation-modal[_ngcontent-%COMP%]   .listoverflow[_ngcontent-%COMP%]{height:220px;overflow-y:auto;overflow-x:hidden;padding-top:2px}.confirmation-modal[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:0}.confirmation-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgb(65,71,90)}.confirmation-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .oculus_btn[_ngcontent-%COMP%]{width:auto;height:39px;padding:9 15px;font-weight:400;font-size:16px}.confirmation-modal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .confirmation-modal[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]{color:#62fcc1;text-decoration:none;transition:.4s}.confirmation-modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:5px;font-size:15px;line-height:1.2;font-weight:500;letter-spacing:.1px;text-align:center;padding:10px;box-shadow:0 2px 4px #00000026;transition:.4s}.confirmation-modal[_ngcontent-%COMP%]   .refresh-proxy-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;vertical-align:middle}"]}),d})();const F=["paymentMethodList"],W=["modalCloseBtn"];function b(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.closeModal({doNotRefresh:!0}))}),t.TgZ(1,"span",12),t._uU(2,"\xd7"),t.qZA()()}}function J(d,O){1&d&&(t.TgZ(0,"div",28)(1,"p"),t._uU(2,"Error: Please enter valid coupon code"),t.qZA()())}function x(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return t.KtG(s.removeCouponCode())}),t._uU(1," Remove "),t.qZA()}}function R(d,O){1&d&&t._UZ(0,"span",30)}function K(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",22)(1,"input",23),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.couponCode=s)}),t.qZA(),t.YNc(2,J,3,0,"div",24),t.YNc(3,x,2,0,"button",25),t.TgZ(4,"button",26),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.validateCoupon())}),t.YNc(5,R,1,0,"span",27),t._uU(6," Apply "),t.qZA()()}if(2&d){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled","0"!==e.discountPrice)("ngModel",e.couponCode),t.xp6(1),t.Q6J("ngIf",(!e.couponCode||""===e.couponCode)&&e.couponSubmitted),t.xp6(1),t.Q6J("ngIf",e.discountPrice&&"0"!==e.discountPrice),t.xp6(1),t.ekj("btn-disabled",e.displayLoader),t.Q6J("disabled",e.displayLoader),t.xp6(1),t.Q6J("ngIf",e.displayLoader)}}function ot(d,O){if(1&d&&(t.TgZ(0,"div")(1,"div"),t._uU(2,"Actual Plan Price:"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&d){const e=t.oxw(3);t.xp6(4),t.hij(" $",e.Number(e.points).toFixed(2)," ")}}function C(d,O){if(1&d&&(t.TgZ(0,"div")(1,"div"),t._uU(2,"Coupon Discount:"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&d){const e=t.oxw(3);t.xp6(4),t.hij(" $",e.Number(e.discountPrice).toFixed(2)," ")}}function v(d,O){if(1&d&&(t.TgZ(0,"div",32)(1,"div"),t._uU(2,"Final Price:"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&d){const e=t.oxw(3);t.xp6(4),t.hij(" $",e.Number(+e.points-+e.discountPrice).toFixed(2)," ")}}function _(d,O){if(1&d){const e=t.EpF();t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"div",33)(3,"div"),t._uU(4," You have "),t.TgZ(5,"span",34),t._uU(6),t.qZA(),t._uU(7,"rewards points and you can claim maximum "),t.TgZ(8,"span",35),t._uU(9),t.qZA(),t._uU(10," points for this order."),t._UZ(11,"br"),t.TgZ(12,"a",36),t.NdJ("click",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onClickHereToClaimAllThePoints(s))}),t._uU(13,"Click here to claim all the points."),t.qZA()()(),t._UZ(14,"hr"),t.TgZ(15,"div")(16,"label",37),t._uU(17,"Use Points "),t.TgZ(18,"input",38),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.checkUsePoint=s)})("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onChangeUsePoint(s))}),t.qZA(),t._UZ(19,"span",39),t.qZA()(),t.BQk()}if(2&d){const e=t.oxw(4);t.xp6(6),t.Oqu(e.userPoints),t.xp6(3),t.Oqu(e.maxPointsToClaim),t.xp6(9),t.Q6J("ngModel",e.checkUsePoint)}}function c(d,O){1&d&&t._UZ(0,"span",30)}function P(d,O){if(1&d&&(t.TgZ(0,"span",44),t._uU(1),t.qZA()),2&d){const e=t.oxw(5);t.xp6(1),t.hij("- $",(+e.convertedPoints).toFixed(2),"")}}function f(d,O){1&d&&t._UZ(0,"hr")}function V(d,O){if(1&d&&(t.TgZ(0,"div",32)(1,"div"),t._uU(2,"After Coupon Discount:"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&d){const e=t.oxw(5);t.xp6(4),t.hij(" $",(+e.points-+e.discountPrice).toFixed(2)," ")}}function it(d,O){if(1&d&&(t.TgZ(0,"div",32)(1,"div"),t._uU(2,"Rewards Points Amount:"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&d){const e=t.oxw(5);t.xp6(4),t.hij(" - $",(+e.convertedPoints).toFixed(2)," ")}}function st(d,O){if(1&d&&(t.TgZ(0,"div",32)(1,"div"),t._uU(2,"Final Price:"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&d){const e=t.oxw(5);t.xp6(4),t.hij(" $",(+e.points-+e.discountPrice-+e.convertedPoints).toFixed(2)," ")}}function ct(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",40)(2,"input",41),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.customPoint=s)}),t.qZA(),t.TgZ(3,"button",42),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return t.KtG(s.convertPointsToAmount())}),t.YNc(4,c,1,0,"span",27),t._uU(5," Claim"),t.qZA(),t.YNc(6,P,2,1,"span",43),t.qZA(),t.YNc(7,f,1,0,"hr",1),t.YNc(8,V,5,1,"div",18),t.YNc(9,it,5,1,"div",18),t.YNc(10,st,5,1,"div",18),t.BQk()}if(2&d){const e=t.oxw(4);t.xp6(2),t.Q6J("ngModel",e.customPoint),t.xp6(1),t.ekj("btn-disabled",e.displayLoader||""!==e.sendingVerificationToken),t.Q6J("disabled",e.displayLoader||""!==e.sendingVerificationToken),t.xp6(1),t.Q6J("ngIf",e.displayLoader),t.xp6(2),t.Q6J("ngIf",e.convertedPoints&&"0"!==e.convertedPoints),t.xp6(1),t.Q6J("ngIf",e.convertedPoints&&"0"!==e.convertedPoints),t.xp6(1),t.Q6J("ngIf","0"!==e.discountPrice),t.xp6(1),t.Q6J("ngIf","0"!==e.convertedPoints),t.xp6(1),t.Q6J("ngIf","0"!==e.convertedPoints)}}function lt(d,O){if(1&d&&(t.ynx(0),t.YNc(1,_,20,3,"ng-container",1),t.YNc(2,ct,11,10,"ng-container",1),t.BQk()),2&d){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",e.addCustomRewardsPoints)}}function dt(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",46)(1,"div",16),t._uU(2,"Payment Methods"),t.qZA(),t.TgZ(3,"div",17)(4,"div",47)(5,"div"),t._uU(6,"Selected Payment Method"),t.qZA(),t.TgZ(7,"img",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(6);return t.KtG(s.openPaymentMethodPopup(!0))}),t.qZA()(),t._UZ(8,"hr",49),t.TgZ(9,"div",4)(10,"div",50)(11,"app-payment-method-list",51,52),t.NdJ("fetchingData",function(s){t.CHM(e);const a=t.oxw(6);return t.KtG(a.fetchingData(s))})("methodListEmpty",function(s){t.CHM(e);const a=t.oxw(6);return t.KtG(a.isMethodListEmpty(s))})("changePaymentMethod",function(s){t.CHM(e);const a=t.oxw(6);return t.KtG(a.openPaymentMethodPopup(s))}),t.qZA()()()()()}if(2&d){const e=t.oxw(6);t.xp6(7),t.Q6J("src",e.paymentMethodFetching?"":"../../../../assets/images/pencil-square.svg",t.LSH),t.xp6(4),t.Q6J("planId",null==e.extendPlanData?null:e.extendPlanData.orderId)("isEditMode",!1)}}function pt(d,O){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,dt,13,3,"div",45),t.qZA()),2&d){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf",e.orderSummaryType===e.orderSummaryTypeEnum.REWARDS||"0"===e.userPoints)}}function _t(d,O){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,pt,2,1,"div",1),t.qZA()),2&d){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.isExtendPlan)}}function gt(d,O){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,_t,2,1,"div",1),t.qZA()),2&d){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.extendPlanData?null:e.extendPlanData.orderId)}}function mt(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",55),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isRetailTermAndConditionAccepted=s)}),t.qZA(),t._UZ(3,"span",58),t.TgZ(4,"span",56),t._uU(5," Please make sure that your payment details(card name, address) are fully matched with the details that you have mentioned at time of signup process. "),t.qZA()()()}if(2&d){const e=t.oxw(4);t.xp6(2),t.Q6J("ngModel",e.isRetailTermAndConditionAccepted)}}function ht(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",59),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isEventsConditionAccepted=s)}),t.qZA(),t._UZ(3,"span",58),t.TgZ(4,"span",56),t._uU(5," According to relevant regulations regarding online ticket purchasing "),t.TgZ(6,"ul",60)(7,"li"),t._uU(8," US - "),t.TgZ(9,"a",61),t._uU(10,"https://www.congress.gov/bill/114th-congress/senate-bill/3183"),t.qZA()(),t.TgZ(11,"li"),t._uU(12," EU - "),t.TgZ(13,"a",62),t._uU(14,"https://eur-lex.europa.eu/eli/dir/2019/2161/oj"),t.qZA()()(),t._uU(15," acquiring tickets by using software such as 'bots' is prohibited. By clicking this checkbox I hereby confirm that my use of these services will be in compliance with applicable law. "),t.qZA()()()}if(2&d){const e=t.oxw(4);t.xp6(2),t.Q6J("ngModel",e.isEventsConditionAccepted)}}function ut(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div")(1,"div",53)(2,"label",54)(3,"input",55),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.isTermAndConditionsAccepted=s)}),t.qZA(),t._UZ(4,"span",39),t.TgZ(5,"span",56),t._uU(6,"By clicking this checkbox, prior to submitting any payment, you read and understand the T.O.S, the refund policy and that we do not guarantee any websites except the fact that the services ping to the internet. "),t.qZA()()(),t.YNc(7,mt,6,1,"div",57),t.YNc(8,ht,16,1,"div",57),t.qZA()}if(2&d){const e=t.oxw(3);t.xp6(3),t.Q6J("ngModel",e.isTermAndConditionsAccepted),t.xp6(4),t.Q6J("ngIf",e.typeProxy===e.basicEnumType.PREMIUM&&e.residentialProxyType===e.residentialProxyTypeEnum.OCULUS_NETWORK_RETAIL),t.xp6(1),t.Q6J("ngIf",e.isLowApplianceRequired)}}function xt(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",55),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isRetailTermAndConditionAccepted=s)}),t.qZA(),t._UZ(3,"span",58),t.TgZ(4,"span",56),t._uU(5,"Please make sure that your payment details(card name, address) are fully matched with the details that you have mentioned at time of signup process. "),t.qZA()()()}if(2&d){const e=t.oxw(4);t.xp6(2),t.Q6J("ngModel",e.isRetailTermAndConditionAccepted)}}function ft(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",59),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isEventsConditionAccepted=s)}),t.qZA(),t._UZ(3,"span",58),t.TgZ(4,"span",56),t._uU(5,"According to relevant regulations regarding online ticket purchasing "),t.TgZ(6,"ul",60)(7,"li"),t._uU(8," US - "),t.TgZ(9,"a",61),t._uU(10,"https://www.congress.gov/bill/114th-congress/senate-bill/3183"),t.qZA()(),t.TgZ(11,"li"),t._uU(12," EU - "),t.TgZ(13,"a",62),t._uU(14,"https://eur-lex.europa.eu/eli/dir/2019/2161/oj"),t.qZA()()(),t._uU(15," acquiring tickets by using software such as 'bots' is prohibited. By clicking this checkbox I hereby confirm that my use of these services will be in compliance with applicable law. "),t.qZA()()()}if(2&d){const e=t.oxw(4);t.xp6(2),t.Q6J("ngModel",e.isEventsConditionAccepted)}}function g(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",53)(2,"label",54)(3,"input",55),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.isTermAndConditionsAccepted=s)}),t.qZA(),t._UZ(4,"span",58),t.TgZ(5,"span",56),t._uU(6,"By clicking this checkbox, prior to submitting any payment, you read and understand the T.O.S, the refund policy and that we do not guarantee any websites except the fact that the services ping to the internet. "),t.qZA()()(),t.YNc(7,xt,6,1,"div",57),t.YNc(8,ft,16,1,"div",57),t.BQk()}if(2&d){const e=t.oxw(3);t.xp6(3),t.Q6J("ngModel",e.isTermAndConditionsAccepted),t.xp6(4),t.Q6J("ngIf",e.typeProxy===e.basicEnumType.PREMIUM&&e.residentialProxyType===e.residentialProxyTypeEnum.OCULUS_NETWORK_RETAIL),t.xp6(1),t.Q6J("ngIf",e.isLowApplianceRequired)}}function Z(d,O){1&d&&t._UZ(0,"span",30)}function i(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",64),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return t.KtG(s.payNow(1))}),t.YNc(2,Z,1,0,"span",27),t._uU(3),t.qZA(),t.BQk()}if(2&d){const e=t.oxw(4);t.xp6(1),t.Gre("submit_btn d-right  ",e.sendingVerificationToken?"full-width":"",""),t.ekj("btn-disabled",e.displayLoader||""!==e.sendingVerificationToken),t.xp6(1),t.Q6J("ngIf",""!==e.sendingVerificationToken),t.xp6(1),t.hij(" ",e.sendingVerificationToken?e.sendingVerificationToken:"Pay Now"," ")}}function y(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",65),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return t.KtG(s.addToRewardPoints())}),t._uU(2," Next "),t.qZA(),t.BQk()}if(2&d){const e=t.oxw(4);t.xp6(1),t.ekj("btn-disabled",e.displayLoader)}}function m(d,O){if(1&d&&(t.TgZ(0,"div",63),t.YNc(1,i,4,7,"ng-container",1),t.YNc(2,y,3,2,"ng-container",1),t.qZA()),2&d){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","0"===e.userPoints),t.xp6(1),t.Q6J("ngIf","0"!==e.userPoints)}}function A(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"button",72),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return t.KtG(s.cancelPayment())}),t._uU(1," Cancel "),t.qZA()}}function nt(d,O){1&d&&t._UZ(0,"span",30)}function Ct(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",4)(2,"div",67)(3,"button",68),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.backToCouponForm())}),t._UZ(4,"i",69),t._uU(5," Back "),t.qZA(),t.YNc(6,A,2,0,"button",70),t.qZA(),t.TgZ(7,"div",67)(8,"button",71),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.payNow(2))}),t.YNc(9,nt,1,0,"span",27),t._uU(10),t.qZA()()()()}if(2&d){const e=t.oxw(3);t.xp6(3),t.ekj("btn-disabled",e.displayLoader||""!==e.sendingVerificationToken),t.xp6(3),t.Q6J("ngIf",e.isOpenPayment),t.xp6(2),t.Gre("submit_btn d-right ",e.sendingVerificationToken?"full-width":"",""),t.ekj("btn-disabled",e.displayLoader||e.methodListEmpty||e.paymentMethodFetching||""!==e.sendingVerificationToken),t.Q6J("disabled",e.displayLoader||e.methodListEmpty||e.paymentMethodFetching||""!==e.sendingVerificationToken),t.xp6(1),t.Q6J("ngIf",""!==e.sendingVerificationToken),t.xp6(1),t.hij(" ",e.sendingVerificationToken?e.sendingVerificationToken:"Pay Now"," ")}}function Pt(d,O){if(1&d&&(t.ynx(0),t.TgZ(1,"div",13)(2,"div"),t.YNc(3,K,7,8,"div",14),t.TgZ(4,"div",15)(5,"div",16),t._uU(6,"Price Summary"),t.qZA(),t.TgZ(7,"div",17),t.YNc(8,ot,5,1,"div",1),t.YNc(9,C,5,1,"div",1),t.YNc(10,v,5,1,"div",18),t.YNc(11,lt,3,2,"ng-container",1),t.qZA()(),t.YNc(12,gt,2,1,"div",1),t.YNc(13,ut,9,3,"div",1),t.YNc(14,g,9,3,"ng-container",1),t.qZA()(),t.TgZ(15,"div",19),t.YNc(16,m,3,2,"div",20),t.YNc(17,Ct,11,11,"div",21),t.qZA(),t.BQk()),2&d){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf","0"===e.convertedPoints),t.xp6(1),t.Q6J("ngIf",e.orderSummaryType===e.orderSummaryTypeEnum.REWARDS),t.xp6(1),t.Q6J("ngIf",!(null!=e.extendPlanData&&e.extendPlanData.isAdminGeneratedOrder)),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(2),t.Q6J("ngIf",e.orderSummaryType===e.orderSummaryTypeEnum.COUPON),t.xp6(1),t.Q6J("ngIf",e.orderSummaryType===e.orderSummaryTypeEnum.REWARDS)}}function vt(d,O){1&d&&(t.ynx(0),t.TgZ(1,"div",73),t._UZ(2,"img",74),t.qZA(),t.BQk())}function Mt(d,O){if(1&d&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h5",9),t._uU(7,"Order Summary"),t.qZA(),t.YNc(8,b,3,0,"button",10),t.qZA(),t.YNc(9,Pt,18,10,"ng-container",1),t.YNc(10,vt,3,0,"ng-container",1),t.qZA()()()()()),2&d){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",!e.displayLoader),t.xp6(1),t.Q6J("ngIf",!e.isRewardsLoading),t.xp6(1),t.Q6J("ngIf",e.isRewardsLoading)}}function bt(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-stripe-custom-checkout-page",75),t.NdJ("closedModal",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.closeCheckoutPage(s))}),t.qZA(),t.BQk()}if(2&d){const e=t.oxw();t.xp6(1),t.Q6J("typeProxy",e.typeProxy)("subscriptionId",e.subscriptionId)("planPayload",e.planRequestPayload)("selectedProxyData",e.proxyData)("clientSecret",e.clientSecret)("residentialProxyType",e.residentialProxyType)("stripePaymentId",e.stripePaymentId)("finalPrice",+(+e.points-+e.discountPrice-+e.convertedPoints).toFixed(2))}}function Tt(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-success-payment",76),t.NdJ("apiResponse",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.getApiResponse())})("closeDialog",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.closePaymentStatus(s))}),t.qZA(),t.BQk()}if(2&d){const e=t.oxw();t.xp6(1),t.Q6J("sessionId",e.sessionId)("isExtendPlan",e.isExtendPlan||!(null==e.confirmDialogConfig||!e.confirmDialogConfig.isExtendPlan))("subscriptionId",e.subscriptionId)("extendPlanData",e.extendPlanData)("typeOfProxy",e.typeProxy)("contentOnly",!1)("isVersionV1Supported",!1)("finalPrice",e.myFinalPrice)("residentialProxyType",e.residentialProxyType)("proxyDetails",e.proxyData)("appliedCouponCode",null==e.planRequestPayload?null:e.planRequestPayload.appliedCouponCode)}}function yt(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-confirmation-popup",77),t.NdJ("closeBtnClick",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.isExtendPlan?a.closeConfirmationModal(s):a.continuePayment(s))})("resentToken",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.resentVerificationCode(s))})("confirmBtnClick",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.isExtendPlan?a.confirmToPayment(s):a.confirmCancelPayment(s))}),t.qZA(),t.BQk()}if(2&d){const e=t.oxw();t.xp6(1),t.Q6J("confirmationTitle",e.isExtendPlan?e.stringUtils.paymentConfirmation:e.stringUtils.titleOfConfirmationPopup)("confirmationMessage",e.isExtendPlan?e.stringUtils.paymentConfirmationMessage.replace("${email}",e.trimmedEmail):e.stringUtils.paymentCancelConfirmationMessage)("configParams",e.isExtendPlan?e.confirmDialogConfig:null)("cancelBtnTxt",e.stringUtils.close)("confirmBtnTxt",e.isExtendPlan?e.getPayNowText:e.stringUtils.cancelPayment)("extendPlanData",e.extendPlanData)}}function Ot(d,O){if(1&d){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-payment-method-list",84),t.NdJ("showConfirmationModal",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showConfirmationModal(s))})("closePaymentMethodModal",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeEvent(s))}),t.qZA(),t.BQk()}if(2&d){const e=t.oxw(2);t.xp6(1),t.Q6J("planId",null==e.extendPlanData?null:e.extendPlanData.orderId)("isEditMode",!0)}}function wt(d,O){if(1&d){const e=t.EpF();t.TgZ(0,"div",78)(1,"div",6)(2,"div",7)(3,"div",79)(4,"h5",80),t._uU(5," Select Payment Method "),t.qZA(),t.TgZ(6,"button",81,82),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.closePaymentMethodPopup())}),t.TgZ(8,"span",12),t._uU(9,"\xd7"),t.qZA()()(),t.TgZ(10,"div",83),t.YNc(11,Ot,2,2,"ng-container",1),t.qZA()()()()}if(2&d){const e=t.oxw();t.xp6(3),t.Q6J("ngClass",e.isShowConfirmationModal?"d-none":""),t.xp6(7),t.Q6J("ngClass",e.isShowConfirmationModal?"border-rounded":""),t.xp6(1),t.Q6J("ngIf",e.isOpenPaymentMethodDialog)}}let Zt=(()=>{class d{constructor(e,o,s,a,h,l){this.orderService=e,this.authenticationService=o,this.toastrService=s,this._dataLayerService=a,this.changeDetectRef=h,this.vs=l,this._vs=(0,t.f3M)(G.P),this.Number=Number,this.points="0",this.typeProxy=k._W.BASIC,this.residentialProxyType=k.sz.OCULUS_NETWORK_EXTREME,this.isExtendPlan=!1,this.extendPlanData=null,this.isVersionV1=!1,this.isOpenPayment=!1,this.clientSecret="",this.methodListEmpty=!1,this.isOpenPaymentMethodDialog=!1,this.paymentMethodFetching=!1,this.isShowConfirmationModal=!1,this.openPaymentMethod=!1,this.stripePaymentId="",this.residentialProxyTypeEnum=k.sz,this.basicEnumType=k._W,this.closedModal=new t.vpe,this.getApiResponseEvent=new t.vpe,this.orderSummaryType=N.Lz.COUPON,this.orderSummaryTypeEnum=N.Lz,this.discountPrice="0",this.discountPercentage=0,this.maxPointsToClaim="0",this.userPoints="0",this.addCustomRewardsPoints=!1,this.convertedPoints="0",this.couponCode="",this.finalPoints="",this.couponSubmitted=!1,this.isRewardsLoading=!1,this.customPoint="",this.checkUsePoint=!1,this.isTermAndConditionsAccepted=!0,this.isRetailTermAndConditionAccepted=!0,this.isEventsConditionAccepted=!0,this.displayLoader=!1,this.sessionId="",this.subscriptionId="",this.typeOfOrderSummaryDialog=N.MG,this.sendingVerificationToken="",this.openDialogType=N.MG.ORDER_SUMMARY,this.verificationCode="",this.userEmail=this.authenticationService.getUserEmail()||"",this.trimmedEmail=this.authenticationService.hideEmailString(this.userEmail),this.stringUtils=u.xZ,this.confirmDialogConfig={isExtendPlan:!1,verificationCode:{config:{allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"30px",height:"30px"}}}}}ngOnInit(){this.getPointsData(),this.confirmDialogConfig={...this.confirmDialogConfig,isExtendPlan:this.isExtendPlan},console.log("this.extendPlanData",this.extendPlanData),console.log("this.proxyData",this.proxyData);const e={...this.proxyData,itemFinalPrice:this.proxyData?.afterDiscountPrice,itemResidentialProxyType:this.residentialProxyType+(this._vs.isV2OrV3?"-V2":""),itemTypeOfProxy:this.typeProxy+(this._vs.isV2OrV3?"-V2":"")};console.log("[VIEW_ITEM] track events in ga4....",e),this._dataLayerService.logViewItem(window.location.href,e)}getPointsData(){this.getUserRewardsPoints(this.points)}payNow(e){if(!this.isTermAndConditionsAccepted||this.isEventPlanTermsAndConditionAccepted())return void this.showErrorMessage((0,u.T8)(u.xZ.acceptTermsAndConditionErrorMessage,{"${{key}}":""}));if(this.isResidentialTermsAndConditionAccepted())return void this.showErrorMessage((0,u.T8)(u.xZ.acceptTermsAndConditionErrorMessage,{"${{key}}":" residential "}));let s,o="ONETIME";this.isExtendPlan&&(o="EXTEND",s=this.extendPlanData?.orderId);let a=0;const h=Math.ceil(100*(+this.points-+this.discountPrice-+this.convertedPoints));this.customPoint&&"0"!==this.customPoint&&(a=+this.customPoint);let l=null;if(this.typeProxy===k._W.BASIC)l={amount:h.toFixed(2).replace(/[.,]00$/,""),appliedCouponCode:""===this.couponCode||0==+this.discountPercentage?null:this.couponCode,couponDiscount:0==+this.discountPercentage?null:+this.discountPercentage||void 0,emailId:this.authenticationService.getUserEmail()||"",paymentType:o,proxyData:{id:this.proxyData?.id},rewardsPoints:0===a?null:a,stripeToken:"",orderId:s,customerId:"cus_LiBgVwqB2fmKl1",priceId:"price_1KZFktAHwxVDGB7tbwIvad9U",couponDiscountPrice:Number(this.discountPrice),convertedPointsPrice:Number(this.convertedPoints),renewOrderToken:this.verificationCode?this.verificationCode:null};else{const T=this.proxyData&&this.proxyData.residentail_plans_id?this.proxyData.residentail_plans_id:13;let z="Oculus_Network_ISP";console.log("residential plan type",this.proxyData,this.residentialProxyType),this.residentialProxyType===k.sz.OCULUS_NETWORK_RETAIL?z="Oculus_Network_Retail":this.residentialProxyType===k.sz.OCULUS_NETWORK_EXTREME?z="Premium_Private":this.residentialProxyType===k.sz.OCULUS_SHARED_DATA_CENTER?z="Shared_ISP":this.residentialProxyType===k.sz.OCULUS_NETWORK_PERFORMANCE?z="Oculus_Network_ISP":this.residentialProxyType===k.sz.OCULUS_PRIVATE_RESERVE?z="Oculus_Private_Reserve":this.residentialProxyType===k.sz.OCULUS_DEDICATED_DC?z="Dedicated_DC":this.residentialProxyType===k.sz.OCULUS_SHARED_DC?z="Shared_DC":this.residentialProxyType===k.sz.OCULUS_ISP_PROXIES&&(z="ISP_Proxies"),l={amount:h.toFixed(2).replace(/[.,]00$/,""),couponDiscount:0==+this.discountPercentage?null:+this.discountPercentage||void 0,appliedCouponCode:""===this.couponCode||0==+this.discountPercentage?null:this.couponCode,residentialPlanData:{residentail_plans_id:T},emailId:this.authenticationService.getUserEmail()||"",residentialPlanType:z,rewardsPoints:0===a?null:a,paymentType:o,stripeToken:"",orderId:s,customerId:"cus_LiBgVwqB2fmKl1",priceId:"price_1KZFktAHwxVDGB7tbwIvad9U",price:Number(this.proxyData.price),couponDiscountPrice:Number(this.discountPrice),convertedPointsPrice:Number(this.convertedPoints),renewOrderToken:this.verificationCode?this.verificationCode:null}}l.couponDiscount||delete l.couponDiscount,this.planRequestPayload=l,console.log("payload",this.planRequestPayload),this.isExtendPlan?(console.log("isVersion V1",this.isVersionV1),this.isVersionV1||this.extendPlanData?.isAdminGeneratedOrder?(this.isRewardsLoading=!0,console.log("request payload v1",l,this.typeProxy),this.orderService.getAdminorderCheckoutSession(l,this.typeProxy).pipe((0,E.P)()).subscribe(T=>{T.clientSecret?((0,r.delay)(()=>{this.clientSecret=T.clientSecret,this.stripePaymentId=T.stripePaymentId,this.subscriptionId=T.subscriptionId,this.openDialogType=this.typeOfOrderSummaryDialog.PAYMENT_SUMMARY},0),this.changeDetectRef.detectChanges(),this.changeDetectRef.markForCheck(),this.residentialProxyType===k.sz.OCULUS_NETWORK_RETAIL&&this.authenticationService.analyticsEventTracking(S.T.Reail_Purchase)):T.hasOwnProperty("noStockError")?(this.showErrorMessage(u.xZ.noStockErrorMessage,u.xZ.paymentFailedError),setTimeout(function(){window.location.reload()},5e3)):(this.closeModal(),this.isRewardsLoading=!0,this.showErrorMessage(u.xZ.commonErrorMessage,u.xZ.error)),this.isExtendPlan=!1},T=>{this.showErrorMessage(400===T?.status?u.xZ.verificationCodeErrorMessage:u.xZ.pleaseTryAgainErrorMsg,u.xZ.paymentFailedError),this.isRewardsLoading=!1,this.closeModal()})):3===e||this.extendPlanData?.isAdminGeneratedOrder?(this.isRewardsLoading=!0,this.orderService.getRenewCheckoutSession(l,this.typeProxy).pipe((0,E.P)()).subscribe(T=>{this.isRewardsLoading=!1,T?.stripePaymentId?(this.sessionId=T?.stripePaymentId||"",this.openDialogType=this.typeOfOrderSummaryDialog.TRANSACTION_STATUS):this.showErrorMessage(u.xZ.paymentSessionIdMissingErrorMessage,u.xZ.error),this.changeDetectRef.detectChanges(),this.changeDetectRef.markForCheck()},T=>{console.log("error ",T),400!==T?.status&&this.showErrorMessage(u.xZ.pleaseTryAgainErrorMsg,u.xZ.paymentFailedError),this.openDialogType=this.typeOfOrderSummaryDialog.CONFIRMATION_POPUP,this.isRewardsLoading=!1})):this.isOpenPayment?(this.isRewardsLoading=!0,this.orderService.getOpenInvoiceCheckoutSession(l,this.typeProxy).pipe((0,E.P)()).subscribe(T=>{T.clientSecret?((0,r.delay)(()=>{this.clientSecret=T.clientSecret,this.stripePaymentId=T.stripePaymentId,this.subscriptionId=T.subscriptionId,this.openDialogType=this.typeOfOrderSummaryDialog.PAYMENT_SUMMARY},0),this.isRewardsLoading=!1,this.changeDetectRef.detectChanges(),this.changeDetectRef.markForCheck(),this.residentialProxyType===k.sz.OCULUS_NETWORK_RETAIL&&this.authenticationService.analyticsEventTracking(S.T.Reail_Purchase)):T.hasOwnProperty("noStockError")?(this.showErrorMessage(u.xZ.noStockErrorMessage,u.xZ.paymentFailedError),setTimeout(function(){window.location.reload()},5e3)):(this.closeModal(),this.isRewardsLoading=!0,this.showErrorMessage(u.xZ.commonErrorMessage,u.xZ.error)),this.isExtendPlan=!1},T=>{this.showErrorMessage(400===T?.status?u.xZ.verificationCodeErrorMessage:u.xZ.pleaseTryAgainErrorMsg,u.xZ.paymentFailedError),this.isRewardsLoading=!1,this.closeModal()})):(this.isRewardsLoading=!0,this.orderService.getRenewCheckoutSession(l,this.typeProxy).pipe((0,E.P)()).subscribe(T=>{T.clientSecret?((0,r.delay)(()=>{this.clientSecret=T.clientSecret,this.stripePaymentId=T.stripePaymentId,this.subscriptionId=T.subscriptionId,this.openDialogType=this.typeOfOrderSummaryDialog.PAYMENT_SUMMARY},0),this.isRewardsLoading=!1,this.changeDetectRef.detectChanges(),this.changeDetectRef.markForCheck(),this.residentialProxyType===k.sz.OCULUS_NETWORK_RETAIL&&this.authenticationService.analyticsEventTracking(S.T.Reail_Purchase)):T.hasOwnProperty("noStockError")?(this.showErrorMessage(u.xZ.noStockErrorMessage,u.xZ.paymentFailedError),setTimeout(function(){window.location.reload()},5e3)):(this.closeModal(),this.isRewardsLoading=!0,this.showErrorMessage(u.xZ.commonErrorMessage,u.xZ.error)),this.isExtendPlan=!1},T=>{this.showErrorMessage(400===T?.status?u.xZ.verificationCodeErrorMessage:u.xZ.pleaseTryAgainErrorMsg,u.xZ.paymentFailedError),this.isRewardsLoading=!1,this.closeModal()}))):(this.isRewardsLoading=!0,this.orderService.getCheckoutSession(l,this.typeProxy).pipe((0,E.P)()).subscribe(T=>{T.clientSecret?((0,r.delay)(()=>{this.clientSecret=T.clientSecret,this.stripePaymentId=T.stripePaymentId,this.subscriptionId=T.subscriptionId,this.openDialogType=this.typeOfOrderSummaryDialog.PAYMENT_SUMMARY,this.changeDetectRef.detectChanges()},0),this.isRewardsLoading=!1,this.changeDetectRef.detectChanges(),this.changeDetectRef.markForCheck(),this.residentialProxyType===k.sz.OCULUS_NETWORK_RETAIL&&this.authenticationService.analyticsEventTracking(S.T.Reail_Purchase)):T.hasOwnProperty("noStockError")?(this.showErrorMessage(u.xZ.noStockErrorMessage,u.xZ.paymentFailedError),setTimeout(function(){window.location.reload()},5e3)):(this.closeModal(),this.isRewardsLoading=!0,this.showErrorMessage(u.xZ.commonErrorMessage,u.xZ.error))},T=>{this.showErrorMessage(400===T?.status?u.xZ.verificationCodeErrorMessage:u.xZ.pleaseTryAgainErrorMsg,u.xZ.paymentFailedError),this.isRewardsLoading=!1,this.closeModal()}))}addToRewardPoints(){this.orderSummaryType=this.orderSummaryTypeEnum.REWARDS;const e=(+this.points-+this.discountPrice).toString();this.getUserRewardsPoints(e)}backToCouponForm(){this.orderSummaryType=this.orderSummaryTypeEnum.COUPON}resentVerificationCode(e){this.orderService.sendToken({orderId:this.extendPlanData?.orderId,productType:this.typeProxy===k._W.BASIC?"DataCenter":"Residential"}).subscribe(s=>{s?this.toastrService.success(u.xZ.verificationCodeSentSuccessMessage,u.xZ.success):this.toastrService.error(u.xZ.waitFor3MinutesErrorMessage.replace("${type}","renew"),u.xZ.success)},s=>{this.toastrService.error(s?.message||u.xZ.commonErrorMessage,u.xZ.error)})}get isLowApplianceRequired(){return this.typeProxy===this.basicEnumType.BASIC&&"Events"===this.proxyData?.proxyLocation?.locationName||this.typeProxy===this.basicEnumType.BASIC&&"NewYork_Premium"===this.proxyData?.proxyLocation?.locationName||this.typeProxy===this.basicEnumType.PREMIUM&&this.residentialProxyType===this.residentialProxyTypeEnum.OCULUS_NETWORK_RETAIL}getUserRewardsPoints(e){this.isRewardsLoading=!0,this.checkUsePoint=!1,this.addCustomRewardsPoints=!1,this.resetClaimPoints(),this.orderService.getUserRewardsPoints(e).pipe((0,E.P)()).subscribe(o=>{this.isRewardsLoading=!1,this._vs.isV2OrV3?(this.maxPointsToClaim="0",this.userPoints="0"):(this.maxPointsToClaim=o&&o.maxPointsToClaim?o.maxPointsToClaim:"0",this.userPoints=o&&o.userPoints?o.userPoints:"0"),this.changeDetectRef.detectChanges()},o=>{this.isRewardsLoading=!1,console.log("error",o)})}validateCoupon(){this.couponSubmitted=!0,this.couponCode&&""!==this.couponCode&&(this.displayLoader=!0,this.orderService.validateCoupon(this.couponCode).pipe((0,E.P)()).subscribe(e=>{this.displayLoader=!1,this.discountPercentage=e?.discountPercentage,this.discountPrice=Math.ceil(+this.points*e?.discountPercentage/100).toFixed(2).toString(),this.showSuccessMessage(u.xZ.successfullyCouponApplyMessage),this.changeDetectRef.detectChanges()},e=>{this.displayLoader=!1,this.showErrorMessage(u.xZ.invalidCouponCodeErrorMessage),this.changeDetectRef.detectChanges()}))}getApiResponse(){this.getApiResponseEvent.emit(!0),console.log("sessionId",this.sessionId)}closeModal(e){document.body.classList.remove("custom-modal-open"),this.closedModal.emit(e||!0),this.openDialogType=this.typeOfOrderSummaryDialog.NONE}confirmToPayment(e){if($("#orderSummaryModal").css("filter","none"),e.isExtendPlan)return this.verificationCode=e?.verificationCode?.renewOrderToken||"",this.openDialogType=this.typeOfOrderSummaryDialog.ORDER_SUMMARY,void this.payNow(3)}removeCouponCode(){this.couponCode="",this.couponSubmitted=!1,this.discountPrice="0"}convertPointsToAmount(){this.checkCustomPointsValue()?this.showErrorMessage(u.xZ.blankPointsError):this.customPoint>this.maxPointsToClaim?this.showErrorMessage((0,u.T8)(u.xZ.pointsAddedMoreThanAvailable,{"${{key}}":this.maxPointsToClaim})):(this.displayLoader=!0,this.orderService.convertPointsToAmount(this.customPoint).pipe((0,E.P)()).subscribe(o=>{this.displayLoader=!1,this.convertedPoints=o.toFixed(2),this.changeDetectRef.detectChanges()},o=>{this.displayLoader=!1}))}onChangeUsePoint(e){this.checkUsePoint=e,this.addCustomRewardsPoints=e,this.resetClaimPoints()}onClickHereToClaimAllThePoints(e){this.addCustomRewardsPoints=!0,this.checkUsePoint=!0,this.customPoint=this.maxPointsToClaim,this.convertPointsToAmount()}closeCheckoutPage(e){e?.sessionId?(this.sessionId=e.sessionId,this.openDialogType=this.typeOfOrderSummaryDialog.TRANSACTION_STATUS,this.clientSecret=""):(document.body.classList.add("custom-modal-open"),this.openDialogType=this.typeOfOrderSummaryDialog.CONFIRMATION_POPUP)}continuePayment(e){this.openDialogType=this.typeOfOrderSummaryDialog.PAYMENT_SUMMARY}closeConfirmationModal(e){$("#orderSummaryModal").css("filter","none"),this.openDialogType=this.typeOfOrderSummaryDialog.ORDER_SUMMARY}confirmCancelPayment(e){this.typeProxy===k._W.BASIC&&this.orderService.isSuccessfullyRenewIspOrder$.next(!0),this.closeModal()}isEventPlanTermsAndConditionAccepted(){return this.isLowApplianceRequired&&!this.isEventsConditionAccepted}isResidentialTermsAndConditionAccepted(){return this.residentialProxyType===this.residentialProxyTypeEnum.OCULUS_NETWORK_RETAIL&&!this.isRetailTermAndConditionAccepted}resetClaimPoints(){this.customPoint="",this.convertedPoints="0"}showSuccessMessage(e,o){this.toastrService.success(e,o||u.xZ.success)}showErrorMessage(e,o){this.toastrService.error(e,o||u.xZ.error)}checkCustomPointsValue(){return!this.customPoint||""===this.customPoint||+this.customPoint<=0}closePaymentStatus(e){document.body.classList.remove("custom-modal-open"),e&&this.closeModal()}get getPayNowText(){const e=(+this.points-+this.discountPrice-+this.convertedPoints).toFixed(2)||"0.00";return this.stringUtils.payNowBtn.replace("{{price}}",e.toString())}isMethodListEmpty(e){this.methodListEmpty=e}fetchingData(e){this.paymentMethodFetching=e}openPaymentMethodPopup(e){this.isOpenPaymentMethodDialog=e}closePaymentMethodPopup(){this.paymentMethodList?.getActiveTabName(),this.isOpenPaymentMethodDialog=!1}showConfirmationModal(e){this.isShowConfirmationModal=e}closeEvent(e){this.modalCloseBtn?.nativeElement.click(),this.isOpenPaymentMethodDialog=e}cancelPayment(){console.log(this.extendPlanData),console.log(this.typeProxy),this.orderService.cancelPayment({planType:this.typeProxy===k._W.BASIC?"DataCenter":"Residential",stripeId:this.extendPlanData?.lastStripeTransaction?.lastStripeid}).subscribe(o=>{this.closeModal(),this.toastrService.success(u.xZ.success)},o=>{this.toastrService.success(u.xZ.error)})}get myFinalPrice(){return+(+this.points-+this.discountPrice-+this.convertedPoints).toFixed(2)}}return d.\u0275fac=function(e){return new(e||d)(t.Y36(q.px),t.Y36(q.$h),t.Y36(B._W),t.Y36(X.n),t.Y36(t.sBO),t.Y36(G.P))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-order-summary"]],viewQuery:function(e,o){if(1&e&&(t.Gf(F,5),t.Gf(W,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paymentMethodList=s.first),t.iGM(s=t.CRH())&&(o.modalCloseBtn=s.first)}},inputs:{points:"points",proxyData:"proxyData",typeProxy:"typeProxy",residentialProxyType:"residentialProxyType",isExtendPlan:"isExtendPlan",extendPlanData:"extendPlanData",isVersionV1:"isVersionV1",isOpenPayment:"isOpenPayment"},outputs:{closedModal:"closedModal",getApiResponseEvent:"getApiResponseEvent"},decls:5,vars:5,consts:[["id","orderSummaryModal","class","container d-flex justify-content-center max-size size mt-4",4,"ngIf"],[4,"ngIf"],["class","modal fade","data-backdrop","static","id","payment-method-modal","tabindex","-1","aria-labelledby","payment-method-modal","aria-hidden","true",4,"ngIf"],["id","orderSummaryModal",1,"container","d-flex","justify-content-center","max-size","size","mt-4"],[1,"row"],[1,"col-12","col-sm-12"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"model-label"],["type","button","class","close","aria-label","Close",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","animate__animated","animate__fadeIn"],["class","form-group d-flex",4,"ngIf"],[1,"card"],[1,"title"],[1,"card-body"],["class","d-flex justify-content-between my-1",4,"ngIf"],[1,"modal-footer"],["class","container",4,"ngIf"],["class","container ng-hide",4,"ngIf"],[1,"form-group","d-flex"],["type","text","id","coupon","name","coupon","placeholder","Enter Coupon Code",1,"form-control","form-control-lg",3,"disabled","ngModel","ngModelChange"],["class","error coupon-error",4,"ngIf"],["type","button","class","btn oculus_btn btn-sm h0-auto",3,"click",4,"ngIf"],["type","button",1,"btn","oculus_btn","btn-sm","w-125",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"error","coupon-error"],["type","button",1,"btn","oculus_btn","btn-sm","h0-auto",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"font-weight-bold"],[1,"d-flex","justify-content-between","my-1"],[1,"d-flex","justify-content-between","my-1","rewadspoints"],[1,"badge","badge-warning","mr-1"],[1,"badge","badge-success"],[3,"click"],[1,"checkbox",2,"padding-left","27px !important","position","inherit"],["type","checkbox",1,"ng-pristine","ng-untouched","ng-valid","displayNone",3,"ngModel","ngModelChange"],[1,"checkmark",2,"margin-left","5px"],[1,"form-group","d-flex","align-items-center","mb-0","claim","mt-2"],["type","number","placeholder","Enter Points",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"btn","oculus_btn","btn-sm","btn-primary","h-auto",3,"disabled","click"],["class","text-white font-weight-bold",4,"ngIf"],[1,"text-white","font-weight-bold"],["class","card mt-3",4,"ngIf"],[1,"card","mt-3"],[1,"d-flex","justify-content-between","px-1","py-1"],["data-toggle","modal","data-placement","top","title","Change Payment Method","data-target","#payment-method-modal","alt","",1,"cursor-pointer",3,"src","click"],[1,"my-0"],[1,"col-12","my-2"],[3,"planId","isEditMode","fetchingData","methodListEmpty","changePaymentMethod"],["paymentMethodList",""],[1,"form-inputRow",2,"margin-top","20px"],[1,"checkbox",2,"padding-left","27px"],["type","checkbox","id","termConditionForPurchase","name","termConditionForPurchase",1,"chkTermConditionForPurchase","displayNone",2,"-webkit-appearance","checkbox !important",3,"ngModel","ngModelChange"],[1,"term-condition"],["class","form-inputRow","style","margin-top: 20px",4,"ngIf"],[1,"checkmark"],["type","checkbox","id","isEventsConditionAccepted","name","isEventsConditionAccepted",1,"chkTermConditionForPurchase","displayNone",2,"-webkit-appearance","checkbox !important",3,"ngModel","ngModelChange"],[1,"event-link-list"],["href","https://www.congress.gov/bill/114th-congress/senate-bill/3183","target","_blank"],["href","https://eur-lex.europa.eu/eli/dir/2019/2161/oj","target","_blank"],[1,"container"],["type","button",2,"width","100px",3,"click"],["type","button",1,"submit_btn","d-right",2,"width","100px",3,"click"],[1,"container","ng-hide"],[1,"col-6"],["type","button",1,"btn",2,"width","100px",3,"click"],[1,"fas","fa-chevron-left"],["type","button","class","btn","style","margin-left: 10px",3,"click",4,"ngIf"],["type","button",2,"width","100px",3,"disabled","click"],["type","button",1,"btn",2,"margin-left","10px",3,"click"],[1,"pricing-loader"],["src","assets/images/ajax-loader_1.svg"],[3,"typeProxy","subscriptionId","planPayload","selectedProxyData","clientSecret","residentialProxyType","stripePaymentId","finalPrice","closedModal"],[3,"sessionId","isExtendPlan","subscriptionId","extendPlanData","typeOfProxy","contentOnly","isVersionV1Supported","finalPrice","residentialProxyType","proxyDetails","appliedCouponCode","apiResponse","closeDialog"],[3,"confirmationTitle","confirmationMessage","configParams","cancelBtnTxt","confirmBtnTxt","extendPlanData","closeBtnClick","resentToken","confirmBtnClick"],["data-backdrop","static","id","payment-method-modal","tabindex","-1","aria-labelledby","payment-method-modal","aria-hidden","true",1,"modal","fade"],[1,"modal-header",3,"ngClass"],["id","payment-method-modal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["modalCloseBtn",""],[1,"modal-body",3,"ngClass"],[3,"planId","isEditMode","showConfirmationModal","closePaymentMethodModal"]],template:function(e,o){1&e&&(t.YNc(0,Mt,11,3,"div",0),t.YNc(1,bt,2,8,"ng-container",1),t.YNc(2,Tt,2,11,"ng-container",1),t.YNc(3,yt,2,6,"ng-container",1),t.YNc(4,wt,12,3,"div",2)),2&e&&(t.Q6J("ngIf",o.openDialogType===o.typeOfOrderSummaryDialog.ORDER_SUMMARY||o.openDialogType===o.typeOfOrderSummaryDialog.CONFIRMATION_POPUP&&o.isExtendPlan),t.xp6(1),t.Q6J("ngIf",(o.openDialogType===o.typeOfOrderSummaryDialog.PAYMENT_SUMMARY||o.openDialogType===o.typeOfOrderSummaryDialog.CONFIRMATION_POPUP)&&!o.isExtendPlan),t.xp6(1),t.Q6J("ngIf",o.openDialogType===o.typeOfOrderSummaryDialog.TRANSACTION_STATUS),t.xp6(1),t.Q6J("ngIf",o.openDialogType===o.typeOfOrderSummaryDialog.CONFIRMATION_POPUP),t.xp6(1),t.Q6J("ngIf",o.orderSummaryType===o.orderSummaryTypeEnum.REWARDS||"0"===o.userPoints))},dependencies:[Q.mk,Q.O5,H.Fj,H.wV,H.Wl,H.JJ,H.On,w.G,D.a,U.m,I],styles:['.max-size[_ngcontent-%COMP%]{max-width:540px!important}.max-size[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{background-color:#2e3342;border-radius:5px;color:#bbb;padding:0;margin:0 auto 15px;box-shadow:0 0 40px #0006}.max-size[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgb(65,71,90)}.max-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#2e3342;border:0!important;color:#bbb;box-shadow:0 0 40px #0006}.max-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:3px;background-color:#171b25;background-clip:padding-box;border:1px solid #4b5167!important;color:#bbb}.max-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .coupon-error[_ngcontent-%COMP%]{top:42px!important}.max-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .coupon-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.max-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .w-125[_ngcontent-%COMP%]{width:125px!important}.max-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .displayNone[_ngcontent-%COMP%]{display:none!important}.max-size[_ngcontent-%COMP%]   .model-label[_ngcontent-%COMP%]{color:#fff}.max-size[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:5px;font-size:15px;line-height:1.2;font-weight:500;letter-spacing:.1px;text-align:center;padding:10px;height:45px;box-shadow:0 2px 4px #00000026;transition:.4s;background-color:#cac4c4}.max-size[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{flex:auto}.max-size[_ngcontent-%COMP%]   .term-condition[_ngcontent-%COMP%]{font-size:14px;font-weight:100!important;color:#f8f9fa}.max-size[_ngcontent-%COMP%]   .term-condition[_ngcontent-%COMP%]   .event-link-list[_ngcontent-%COMP%]{list-style:square;padding:1rem}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid #41475a;background-color:transparent;font-size:14px}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background-color:#3d4356;color:#fff;padding:8px 15px}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .claim[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:113px;height:40px}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .claim[_ngcontent-%COMP%]   .oculus_btn[_ngcontent-%COMP%]{margin:0 5px 0 .5rem!important;width:90px!important}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#41475a}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{position:relative;padding-left:48px!important;margin:0!important;cursor:pointer;display:block;max-width:526px!important}.max-size[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.max-size[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{position:absolute;border-radius:2px;background-color:#e0dddd;top:auto;left:1rem;height:22px;width:22px}.max-size[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#ffc107}.max-size[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.max-size[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.max-size[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:8px;top:3px;width:7px;height:12px;border:solid rgb(0,0,0);border-width:0 2px 2px 0;transform:rotate(45deg)}.max-size[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgb(65,71,90)}.max-size[_ngcontent-%COMP%]   .rewadspoints[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:#adadad;font-weight:700;cursor:pointer}@media (min-width: 576px){.max-size[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{min-width:600px!important;max-width:-moz-fit-content!important;max-width:fit-content!important;margin:0 auto;padding:0}}.border-rounded[_ngcontent-%COMP%]{border-radius:calc(.3rem - 1px)!important}#payment-method-modal[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}#payment-method-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:12px}#payment-method-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:700px}#payment-method-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:#2e3342;border-bottom:1px solid #41475a}#payment-method-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{background:#2e3342;border-radius:0px 0px calc(.3rem - 1px) calc(.3rem - 1px)}#payment-method-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid #41475a;background:#2e3342}']}),d})()},9919:(rt,tt,p)=>{p.d(tt,{_:()=>et});var t=p(4650),r=p(4766),n=p(4719),E=p(5628),S=p(9697),k=p(7185),N=p(6895),u=p(5218),G=p(1405);const q=["ngOtpInput"],B=["captchaElem"];function X(L,j){1&L&&t._UZ(0,"span")}function Q(L,j){if(1&L){const M=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(M);const F=t.oxw(2);return t.KtG(F.closeRegisterDialog.emit(!1))}),t._uU(1," \xd7 "),t.qZA()}}function H(L,j){if(1&L&&(t.TgZ(0,"div",19)(1,"h1"),t._uU(2,"2 Step Verification"),t.YNc(3,X,1,0,"span",4),t.qZA(),t.YNc(4,Q,2,0,"button",20),t.qZA()),2&L){const M=t.oxw();t.ekj("otp-header",M.isRegisterFromDialog)("w-100",M.isRegisterFromDialog)("d-inline-flex",M.isRegisterFromDialog)("justify-content-between",M.isRegisterFromDialog),t.xp6(3),t.Q6J("ngIf",!M.isRegisterFromDialog),t.xp6(1),t.Q6J("ngIf",!M.loading&&M.isRegisterFromDialog)}}function w(L,j){1&L&&t._UZ(0,"hr")}function D(L,j){if(1&L){const M=t.EpF();t.TgZ(0,"ng-otp-input",22,23),t.NdJ("onInputChange",function(F){t.CHM(M);const W=t.oxw();return t.KtG(W.onOtpChange(F))}),t.qZA()}if(2&L){const M=t.oxw();t.Q6J("config",M.config)}}function U(L,j){if(1&L){const M=t.EpF();t.TgZ(0,"div",24)(1,"div",12)(2,"ngx-recaptcha2",25,26),t.NdJ("success",function(F){t.CHM(M);const W=t.oxw();return t.KtG(W.handleSuccess(F))}),t.qZA()()()}if(2&L){const M=t.oxw();t.xp6(2),t.Q6J("siteKey",M.recaptchaKey)("size",M.size)("hl",M.lang)("theme",M.theme)("type",M.captchaType)("formControl",M.recaptcha)}}function Y(L,j){1&L&&t._UZ(0,"span",27)}let et=(()=>{class L{constructor(M,I,F){this.authenticationService=M,this.router=I,this.toastr=F,this.loginEmail="",this.type="",this.applyCaptcha=!1,this.reload2FACaptcha=!1,this.isRegisterFromDialog=!1,this.closeRegisterDialog=new t.vpe,this.showOtpComponent=!0,this.returnUrl="",this.recaptchaKey=r.N.recaptchaKey,this.recaptcha=new n.p4(""),this.theme="light",this.size="normal",this.lang="en",this.captchaType="image",this.loading=!1,this.isLabelDisplay=!1,this.validateLoginToken=new t.vpe,this.captchaResponse=new t.vpe,this.resentOtp=new t.vpe,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}}}handleKeyboardEvent(M){"enter"===M.key?.toLowerCase()&&this.validateToken()}ngOnInit(){this.loginEmail||(this.loginEmail=this.authenticationService.hideEmailString(this.authenticationService.getUserEmail()||""))}ngOnChanges(){console.log("this.reola",this.reload2FACaptcha),this.reload2FACaptcha&&(this.recaptcha.setValue(""),this.captchaElement?.reloadCaptcha())}onOtpChange(M){this.otp=M}setVal(M){this.ngOtpInput.setValue(M)}toggleDisable(){this.ngOtpInput.otpForm&&(this.ngOtpInput.otpForm.disabled?this.ngOtpInput.otpForm.enable():this.ngOtpInput.otpForm.disable())}onConfigChange(){this.showOtpComponent=!1,this.otp="",setTimeout(()=>{this.showOtpComponent=!0},0)}validateToken(){this.recaptcha.value?this.otp&&""!==this.otp&&6===this.otp.length?(this.captchaResponse.emit(this.recaptcha?.value),this.validateLoginToken.emit(this.otp)):this.toastr.error("Please enter valid OTP","Validation Error"):this.toastr.error("Please resolve the captcha and submit!","Captcha Error")}handleSuccess(M){console.log(M)}onClickResendToken(M){this.resentOtp.emit(M)}}return L.\u0275fac=function(M){return new(M||L)(t.Y36(E.$h),t.Y36(S.F0),t.Y36(k._W))},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-otp"]],viewQuery:function(M,I){if(1&M&&(t.Gf(q,5),t.Gf(B,5)),2&M){let F;t.iGM(F=t.CRH())&&(I.ngOtpInput=F.first),t.iGM(F=t.CRH())&&(I.captchaElement=F.first)}},hostBindings:function(M,I){1&M&&t.NdJ("keypress",function(W){return I.handleKeyboardEvent(W)},!1,t.evT)},inputs:{loginEmail:"loginEmail",type:"type",applyCaptcha:"applyCaptcha",reload2FACaptcha:"reload2FACaptcha",isRegisterFromDialog:"isRegisterFromDialog",loading:"loading",isLabelDisplay:"isLabelDisplay"},outputs:{closeRegisterDialog:"closeRegisterDialog",validateLoginToken:"validateLoginToken",captchaResponse:"captchaResponse",resentOtp:"resentOtp"},features:[t.TTD],decls:25,vars:13,consts:[[1,"d-flex","justify-content-center","mt-5","animate__animated","animate__fadeIn"],[1,"row","m-3"],[1,"otp-dialog"],["class","dialog-heading",3,"otp-header","w-100","d-inline-flex","justify-content-between",4,"ngIf"],[4,"ngIf"],[1,"register-content"],["id","twoStepVerificationFormContainer",1,"register-form"],[1,"register-description"],["id","lblOtpSendEmail",1,""],["title","2 Step Verification","name","two_step_verification_form",3,"ngSubmit"],[1,"row"],[1,"col-md-12","col-12"],[1,"form-inputRow"],[3,"config","onInputChange",4,"ngIf"],["class","col-md-12 col-12 mb-20",4,"ngIf"],["type","submit","name","submit",1,"submit_btn",3,"disabled"],["class","spinner-border spinner-border-sm mr-2","role","status","aria-hidden","true",4,"ngIf"],[1,"custome-hr"],[1,"text-link",3,"click"],[1,"dialog-heading"],["type","button","class","close","aria-label","Close",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[3,"config","onInputChange"],["ngOtpInput",""],[1,"col-md-12","col-12","mb-20"],["ngDefaultControl","",3,"siteKey","size","hl","theme","type","formControl","success"],["captchaElem",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-2"]],template:function(M,I){1&M&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,H,5,10,"div",3),t.YNc(4,w,1,0,"hr",4),t.TgZ(5,"div",5)(6,"div",6)(7,"span",7),t._uU(8," Please enter the verification code sent to "),t.TgZ(9,"span",8),t._uU(10),t.qZA()(),t.TgZ(11,"form",9),t.NdJ("ngSubmit",function(){return I.validateToken()}),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12),t.YNc(15,D,2,1,"ng-otp-input",13),t.qZA()(),t.YNc(16,U,4,6,"div",14),t.TgZ(17,"div",11)(18,"button",15),t.YNc(19,Y,1,0,"span",16),t._uU(20," Confirm "),t.qZA()()()()()(),t.TgZ(21,"div"),t._UZ(22,"div",17),t.TgZ(23,"a",18),t.NdJ("click",function(W){return I.onClickResendToken(W)}),t._uU(24,"I haven't received my code!"),t.qZA()()()()()),2&M&&(t.xp6(2),t.ekj("col-12",!I.isRegisterFromDialog),t.xp6(1),t.Q6J("ngIf",I.isLabelDisplay),t.xp6(1),t.Q6J("ngIf",I.isRegisterFromDialog),t.xp6(6),t.Oqu(I.loginEmail),t.xp6(5),t.Q6J("ngIf",I.showOtpComponent),t.xp6(1),t.Q6J("ngIf",I.applyCaptcha),t.xp6(2),t.ekj("btn-disabled",I.loading||6!==(null==I.otp?null:I.otp.length)),t.Q6J("disabled",I.loading||6!==(null==I.otp?null:I.otp.length)),t.xp6(1),t.Q6J("ngIf",I.loading),t.xp6(2),t.ekj("col-12",!I.isRegisterFromDialog))},dependencies:[N.O5,u.df,n._Y,n.Fj,n.JJ,n.JL,n.F,n.oH,G.to],styles:[".otp-dialog[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;max-width:455px;padding-top:1rem}.otp-dialog[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{padding:2.5rem 2.625rem;color:#000}.otp-dialog[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-description[_ngcontent-%COMP%]{margin-bottom:20px;display:block;font-weight:500}.otp-dialog[_ngcontent-%COMP%]   .custome-hr[_ngcontent-%COMP%]{border-top:1px solid #dbe2ec}.otp-dialog[_ngcontent-%COMP%]   ng-valid[_ngcontent-%COMP%]{border-color:#90ee90}.otp-dialog[_ngcontent-%COMP%]   .form-inputRow[_ngcontent-%COMP%]{margin-bottom:20px}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]{color:#000!important;line-height:normal!important;text-align:center!important}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading.w-100[_ngcontent-%COMP%]{width:100%!important}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px!important;text-transform:capitalize!important}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{height:0;color:#000!important;font-size:2rem;cursor:pointer;margin-right:.275rem}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60px;border-style:solid;border-width:2px;border-image-source:linear-gradient(265deg,#0091a7,#ccff90);border-image-slice:1;display:block;margin:14px auto 0}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   .alreadyAccount[_ngcontent-%COMP%]{border-top:1px solid #dbe2ec;padding:22px 0 40px}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   .alreadyAccount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#757575;line-height:normal;text-align:center}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   .alreadyAccount[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:#002c60}.otp-dialog[_ngcontent-%COMP%]   .dialog-heading[_ngcontent-%COMP%]   .alreadyAccount[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::hover{color:#41b787}.otp-dialog[_ngcontent-%COMP%]   .btn-disabled[_ngcontent-%COMP%]{background:#9d9d9d!important;cursor:auto!important}.otp-dialog[_ngcontent-%COMP%]   .text-link[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000;line-height:normal;text-align:center;display:block;padding:2rem;text-decoration:underline;cursor:pointer}.otp-header[_ngcontent-%COMP%]{padding:1rem 2rem!important}.otp-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;text-align:center}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}@media only screen and (min-width: 992px){register-form[_ngcontent-%COMP%]{padding:40px 42px}}"]}),L})()},5868:(rt,tt,p)=>{p.d(tt,{a:()=>e});var t=p(4650),r=p(7436),n=p(4719),E=p(1338),S=p(4608),k="https://js.stripe.com/v3",N=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",X=null,w=Promise.resolve().then(function(){return s=null,null!==X||(X=new Promise(function(a,h){if(typeof window>"u")a(null);else if(window.Stripe&&s&&console.warn(u),window.Stripe)a(window.Stripe);else try{var l=function(){for(var s=document.querySelectorAll('script[src^="'.concat(k,'"]')),a=0;a<s.length;a++){var h=s[a];if(N.test(h.src))return h}return null}();l&&s?console.warn(u):l||(l=function(s){var a=s&&!s.advancedFraudSignals?"?advancedFraudSignals=false":"",h=document.createElement("script");h.src="".concat(k).concat(a);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(h),h}(s)),l.addEventListener("load",function(){window.Stripe?a(window.Stripe):h(new Error("Stripe.js not available"))}),l.addEventListener("error",function(){h(new Error("Failed to load Stripe.js"))})}catch(T){return void h(T)}})),X;var s});w.catch(function(o){console.warn(o)});var Y=p(6895);function et(o,s){1&o&&(t.TgZ(0,"span",16),t._uU(1,"Default"),t.qZA())}function L(o,s){1&o&&(t.TgZ(0,"span",17),t._uU(1," Expired "),t.qZA())}function j(o,s){if(1&o&&(t.TgZ(0,"div",18)(1,"div",19)(2,"ngx-stripe-card-group",20),t._UZ(3,"ngx-stripe-card-cvc"),t.qZA()()()),2&o){const a=t.oxw(2);t.xp6(2),t.Q6J("elementsOptions",a.elementsOptions)}}const M=function(o,s){return{selected:o,disabledLabel:s}};function I(o,s){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"label",2),t.NdJ("click",function(){const l=t.CHM(a),T=l.index,z=l.$implicit,at=t.oxw();return t.KtG(at.selectedMethodId=at.checkIsExpired(T)?"":z.id)}),t.TgZ(2,"div",3)(3,"div",4)(4,"div",5),t._UZ(5,"input",6),t.qZA(),t.TgZ(6,"div",7)(7,"div",8),t._uU(8),t._UZ(9,"br"),t.TgZ(10,"span",9),t._uU(11),t.qZA()()()(),t.TgZ(12,"div",10)(13,"div",11),t.YNc(14,et,2,0,"span",12),t.YNc(15,L,2,0,"span",13),t.qZA(),t._UZ(16,"img",14),t.qZA()(),t.YNc(17,j,4,1,"div",15),t.qZA(),t.BQk()}if(2&o){const a=s.$implicit,h=s.index,l=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(10,M,l.selectedMethodId===a.id&&!l.checkIsExpired(h),l.checkIsExpired(h))),t.xp6(4),t.Q6J("disabled",l.checkIsExpired(h))("checked",l.selectedMethodId===a.id&&!l.checkIsExpired(h)),t.xp6(3),t.hij(" **** ",a.number," "),t.xp6(3),t.AsE("Expires:\xa0",a.exp_month||"NA","/",a.exp_year||"NA",""),t.xp6(3),t.Q6J("ngIf",a.default),t.xp6(1),t.Q6J("ngIf",l.checkIsExpired(h)),t.xp6(1),t.Q6J("src","../../../../assets/images/cards/"+a.brand+".svg",t.LSH),t.xp6(1),t.Q6J("ngIf",l.selectedMethodId===a.id)}}let F=(()=>{class o{constructor(){this.savedMethodList=[],this.selectedMethodId="",this.elementsOptions={locale:"es"}}ngOnInit(){}getCurrentYear(){return(new Date).getFullYear()}getCurrentMonth(){return(new Date).getMonth()}checkIsExpired(a){return this.getCurrentYear()>this.savedMethodList[a].exp_year||this.getCurrentYear()==this.savedMethodList[a].exp_year&&this.getCurrentMonth()>=this.savedMethodList[a].exp_month}cardValue(){return this.cardCVC?.element}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-saved-payment-methods"]],viewQuery:function(a,h){if(1&a&&t.Gf(r.Di,5),2&a){let l;t.iGM(l=t.CRH())&&(h.cardCVC=l.first)}},inputs:{savedMethodList:"savedMethodList",selectedMethodId:"selectedMethodId"},decls:2,vars:1,consts:[[1,"fix-w"],[4,"ngFor","ngForOf"],[1,"list-container","form-check-label","my-2",3,"ngClass","click"],[1,"d-flex"],[1,"form-check","d-flex","align-items-center"],[1,"d-flex","align-items-center"],["type","radio","name","exampleRadios","value","option1",1,"form-check-input","w-15","mb-1",3,"disabled","checked"],[1,"pr-1","pl-2","d-flex","align-items-center"],[1,"w-6rem","text-smaller"],[1,"expiry"],[1,"d-inline-flex","align-items-center",2,"margin-left","auto"],[1,"mx-1","w-min"],["class","defaultMethod fs-xsmall mx-1",4,"ngIf"],["class","expiresMethod fs-xsmall mx-1",4,"ngIf"],["height","40px","width","40px","alt","",3,"src"],["style","padding-left: 27px",4,"ngIf"],[1,"defaultMethod","fs-xsmall","mx-1"],[1,"expiresMethod","fs-xsmall","mx-1"],[2,"padding-left","27px"],[1,"cvc-card"],[3,"elementsOptions"]],template:function(a,h){1&a&&(t.TgZ(0,"div",0),t.YNc(1,I,18,13,"ng-container",1),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngForOf",h.savedMethodList))},dependencies:[Y.mk,Y.sg,Y.O5,r.Di,r.lW],styles:[".fix-w[_ngcontent-%COMP%]{height:20rem;overflow-y:scroll;padding:0rem .5rem 0rem .1rem}.shimmer-box[_ngcontent-%COMP%]{height:15px}.w-15[_ngcontent-%COMP%]{width:18px;height:18px}.w-6rem[_ngcontent-%COMP%]{width:6.2rem}.text-smaller[_ngcontent-%COMP%]{font-size:smaller}.selected[_ngcontent-%COMP%]{border:1px solid rgba(0,123,255,.7607843137)!important;background:rgba(0,123,255,.0705882353)}.list-container[_ngcontent-%COMP%]{border:1px solid darkgray;padding:.5rem;width:100%;cursor:pointer;align-items:center;justify-content:space-between;border-radius:5px}.list-container[_ngcontent-%COMP%]:hover{background:rgba(0,123,255,.0705882353)}.expiry[_ngcontent-%COMP%]{opacity:.9;font-weight:100;font-size:small}.disabledLabel[_ngcontent-%COMP%]{opacity:.5}.disabledLabel[_ngcontent-%COMP%]:hover{background:transparent}.subTitle[_ngcontent-%COMP%]{font-size:13px!important;opacity:.7;font:small-caption}.fs-xsmall[_ngcontent-%COMP%]{font-size:x-small}[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px;height:8px!important}.cvc-card[_ngcontent-%COMP%]{border:1px solid grey;padding:8px;margin-top:4px;border-radius:4px;width:92px;background:white;float:right}@media (min-width: 500px) and (max-width: 991px){.w-min[_ngcontent-%COMP%]{width:max-content!important}}"]}),o})();var W=p(5140),b=p(537),J=p(7545),x=p(5861),R=p(529),K=p(1737),ot=p(4850),C=p(7221);var _=p(7185);const P={headers:new R.WM({"Content-Type":"application/json"})};let f=(()=>{class o{constructor(a,h){this.http=a,this.toaster=h,this.isLoading=!1}initStripe(){return this.stripe=Stripe("pk_test_zgPhpTXbuARi8djNxX8K0Gre"),this.stripe}createPaymentIntent(a,h){return this.http.post("https://devapi.oculusproxies.com/v1/payment/create-subscription",{customerId:a,priceId:h},{headers:P.headers}).pipe((0,ot.U)(z=>z),(0,C.K)(z=>(0,K._)(z)))}displayAppearance(a){this.stripe.elements({appearance:{theme:"night",labels:"floating",variables:{colorPrimary:"#0570de",colorBackground:"#ffffff",colorText:"#30313d",colorDanger:"#df1b41",fontFamily:"Ideal Sans, system-ui, sans-serif",spacingUnit:"2px",borderRadius:"4px"}},clientSecret:a})}form(a){var h=this;document.getElementById("payment-form")?.addEventListener("submit",function(){var T=(0,x.Z)(function*(z){z.preventDefault(),console.log("form submitted");const{error:at}=yield h.stripe.confirmPayment({elements:h.displayAppearance(a),confirmParams:{return_url:"http://localhost:4200/home"}});at&&(document.querySelector("#error-message").textContent=at.message||"")});return function(z){return T.apply(this,arguments)}}())}checkStatus(){var a=this;return(0,x.Z)(function*(){const h=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(!h)return;const{paymentIntent:l}=yield a.stripe.retrievePaymentIntent(h);switch(l.status){case"succeeded":a.toaster.success("Payment succeeded!");break;case"processing":a.toaster.success("Your payment is processing.");break;case"requires_payment_method":a.toaster.success("Your payment was not successful, please try again.");break;default:a.toaster.success("Something went wrong.")}})()}}return o.\u0275fac=function(a){return new(a||o)(t.LFG(R.eN),t.LFG(_._W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var V=p(3816),it=p(5628),st=p(9697),ct=p(3305);function lt(o,s){if(1&o&&(t.TgZ(0,"h3",55),t._uU(1),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.hij(" ",a.typeProxy===a.planTypeEnum.BASIC?a.stringUtils.ispProxies:"Shared_ISP"===a.planPayload.residentialPlanType?a.stringUtils.sharedDataCenterProxies:a.stringUtils.residentialProxies," ")}}function dt(o,s){if(1&o&&(t.TgZ(0,"h3",55),t._uU(1),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.hij(" ","ISP_Proxies"===a.planPayload.residentialPlanType?"ISP Proxies":"Datacenter Proxies"," ")}}function pt(o,s){if(1&o&&(t.TgZ(0,"h5",15),t._uU(1),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.hij(" ",a.typeProxy===a.planTypeEnum.BASIC?a.stringUtils.ispProxies:"Shared_ISP"===a.planPayload.residentialPlanType?a.stringUtils.sharedDataCenterProxies:a.stringUtils.residentialProxies," ")}}function _t(o,s){if(1&o&&(t.TgZ(0,"h5",15),t._uU(1),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.hij(" ","ISP_Proxies"===a.planPayload.residentialPlanType?"ISP Proxies":"Datacenter Proxies"," ")}}function gt(o,s){if(1&o&&(t.TgZ(0,"div")(1,"span",56),t._uU(2),t.qZA(),t.TgZ(3,"span",56),t._uU(4),t.qZA(),t.TgZ(5,"span",56),t._uU(6),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(2),t.hij("Proxies Qty: ",null==a.selectedProxyData?null:a.selectedProxyData.noOfProxies,", "),t.xp6(2),t.hij(" Server: ",(null==a.selectedProxyData.proxyLocation?null:a.selectedProxyData.proxyLocation.locationDisplayName)||"",","),t.xp6(2),t.hij(" Duration: ",a.orderService.getDuration(null==a.selectedProxyData?null:a.selectedProxyData.proxyDurationLabel),"")}}function mt(o,s){if(1&o&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&o){const a=t.oxw(3);t.xp6(1),t.AsE("Plan name: ",a.orderService.getPlanName(null==a.planPayload?null:a.planPayload.residentialPlanType),"","Dedicated_DC"!==a.planPayload.residentialPlanType?"("+(null==a.selectedProxyData?null:a.selectedProxyData.plan_name)+")":"",", ")}}function ht(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,mt,2,2,"span",57),t.TgZ(2,"span",56),t._uU(3),t.qZA(),t.TgZ(4,"span",56),t._uU(5),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","Shared_ISP"!==a.planPayload.residentialPlanType),t.xp6(2),t.hij(" Proxies Qty: ","Premium_Private"===(null==a.planPayload?null:a.planPayload.residentialPlanType)||"Oculus_Private_Reserve"===(null==a.planPayload?null:a.planPayload.residentialPlanType)||"Shared_ISP"===(null==a.planPayload?null:a.planPayload.residentialPlanType)||"Dedicated_DC"===(null==a.planPayload?null:a.planPayload.residentialPlanType)?null==a.selectedProxyData?null:a.selectedProxyData.no_of_proxies:a.DEFAULT_PROXIES,","),t.xp6(2),t.hij(" Duration: ",(null==a.selectedProxyData?null:a.selectedProxyData.proxy_duration)||0,"")}}function ut(o,s){if(1&o&&(t.TgZ(0,"div",25)(1,"div",18),t._uU(2,"Coupon Discount"),t.qZA(),t.TgZ(3,"div",21),t._uU(4),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(4),t.hij(" -$",(null==a.planPayload||null==a.planPayload.couponDiscountPrice?null:a.planPayload.couponDiscountPrice.toFixed(2))||0," ")}}function xt(o,s){if(1&o&&(t.TgZ(0,"div",58)(1,"div",18),t._uU(2,"Rewards Discount"),t.qZA(),t.TgZ(3,"div",21),t._uU(4),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(4),t.hij(" -$",(null==a.planPayload||null==a.planPayload.convertedPointsPrice?null:a.planPayload.convertedPointsPrice.toFixed(2))||0," ")}}function ft(o,s){if(1&o&&(t.TgZ(0,"div",25)(1,"div",18),t._uU(2,"Coupon/Rewards Discount"),t.qZA(),t.TgZ(3,"div",21),t._uU(4),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(4),t.hij(" -$",null==a.planPayload||null==a.planPayload.claimPoint?null:a.planPayload.claimPoint.toFixed(2)," ")}}function g(o,s){1&o&&t._UZ(0,"hr")}function Z(o,s){1&o&&t._UZ(0,"div",60)}const i=function(){return[1,2,3]};function y(o,s){1&o&&(t.ynx(0),t.YNc(1,Z,1,0,"div",59),t.BQk()),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,i)))}function m(o,s){1&o&&(t.ynx(0),t.TgZ(1,"div",62),t._uU(2," You are eligible for one time 20% discount on your next auto renewal. "),t.qZA(),t._UZ(3,"hr",63),t.BQk())}function A(o,s){1&o&&(t.TgZ(0,"p",64),t._uU(1," NOTE: By selecting this box, you agree and you authorise that your card will be automatically charged whenever the specific data on this plan is below 20%. "),t.qZA())}function nt(o,s){1&o&&(t.TgZ(0,"p",64),t._uU(1," NOTE: By selecting this box, you agree and you authorize that your card will be automatically charged whenever the specific plan limit is below 24 hours. "),t.qZA())}function Ct(o,s){if(1&o&&(t.YNc(0,m,4,0,"ng-container",20),t.ALo(1,"async"),t.YNc(2,A,2,0,"p",61),t.YNc(3,nt,2,0,"p",61)),2&o){const a=t.oxw(2);t.Q6J("ngIf",t.lcZ(1,3,a.vs.isV2OrV3$)&&a.isEligibleForPromotion),t.xp6(2),t.Q6J("ngIf","OCULUS_DEDICATED_DC"!==a.residentialProxyType),t.xp6(1),t.Q6J("ngIf","OCULUS_DEDICATED_DC"===a.residentialProxyType)}}function Pt(o,s){if(1&o){const a=t.EpF();t.TgZ(0,"a",72),t.NdJ("click",function(){t.CHM(a);const l=t.oxw(3);return t.KtG(l.showPaymentMethodlist=!l.showPaymentMethodlist)}),t._uU(1),t._UZ(2,"i",73),t.qZA()}if(2&o){const a=t.oxw(3);t.xp6(1),t.hij(" ",a.showPaymentMethodlist?"Continue with existing methods":"Add new card","")}}function vt(o,s){1&o&&t._UZ(0,"div",60)}function Mt(o,s){1&o&&(t.ynx(0),t.YNc(1,vt,1,0,"div",59),t.BQk()),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,i)))}function bt(o,s){1&o&&(t.ynx(0),t.TgZ(1,"div",74)(2,"div",75),t._UZ(3,"img",76),t.TgZ(4,"h6",77),t._uU(5," Payment method not found! "),t.qZA()()(),t.BQk())}function Tt(o,s){1&o&&t._UZ(0,"span",78)}const yt=function(o,s,a){return{"border-diasbled btn-disabled text-black":o,"animate__animated animate__flipInX btn-success":s,"btn-primary":a}};function Ot(o,s){if(1&o){const a=t.EpF();t.TgZ(0,"div"),t.ynx(1),t.TgZ(2,"div",22)(3,"div",35)(4,"div",36)(5,"div",37)(6,"label",38),t._uU(7,"Email"),t.qZA(),t.YNc(8,Pt,3,1,"a",39),t.qZA(),t._UZ(9,"input",65),t.qZA()()(),t.TgZ(10,"div",66)(11,"label",67),t._uU(12,"Payment method"),t.qZA(),t.YNc(13,Mt,2,2,"ng-container",20),t.YNc(14,bt,6,0,"ng-container",20),t._UZ(15,"app-saved-payment-methods",68,69),t.TgZ(17,"div",70)(18,"p",71),t._uU(19," By providing your card information, you allow Oculus Networks Inc to charge your card for future payments in accordance with their terms. "),t.qZA()(),t.TgZ(20,"div",51)(21,"div",35)(22,"button",52),t.NdJ("click",function(){t.CHM(a);const l=t.MAs(16),T=t.oxw(2);return t.KtG(T.payWithOldMethod(l.selectedMethodId))}),t.YNc(23,Tt,1,0,"span",53),t._uU(24," Pay "),t.qZA()()()(),t.BQk(),t.qZA()}if(2&o){const a=t.MAs(16),h=t.oxw(2);t.xp6(8),t.Q6J("ngIf",!h.isExtendPlan),t.xp6(1),t.s9C("placeholder",(null==h.planPayload?null:h.planPayload.emailId)||""),t.xp6(4),t.Q6J("ngIf",h.isLoading),t.xp6(1),t.Q6J("ngIf",!h.paymentMethodList.length&&!h.isLoading),t.xp6(1),t.Q6J("selectedMethodId",h.selectedPaymentMethod)("hidden",h.isLoading||!h.paymentMethodList.length)("savedMethodList",h.paymentMethodList),t.xp6(7),t.Q6J("disabled",h.isExistingMethodCalled||!a.selectedMethodId||h.checkingEligibility)("ngClass",t.kEZ(10,yt,h.isExistingMethodCalled||!a.selectedMethodId,h.isExistingMethodCalled,!h.isExistingMethodCalled)),t.xp6(1),t.Q6J("ngIf",h.isExistingMethodCalled)}}function wt(o,s){if(1&o){const a=t.EpF();t.TgZ(0,"a",72),t.NdJ("click",function(){t.CHM(a);const l=t.oxw(2);return t.KtG(l.showPaymentMethodlist=!l.showPaymentMethodlist)}),t._uU(1),t._UZ(2,"i",73),t.qZA()}if(2&o){const a=t.oxw(2);t.xp6(1),t.hij(" ",a.showPaymentMethodlist?"Continue with existing methods":"Add method","")}}function Zt(o,s){1&o&&t._UZ(0,"span",78)}function d(o,s){1&o&&t._UZ(0,"i",79)}function O(o,s){if(1&o){const a=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),t._uU(4,"Order Summary"),t.qZA(),t.TgZ(5,"div",13),t.YNc(6,lt,2,1,"h3",14),t.ALo(7,"async"),t.YNc(8,dt,2,1,"h3",14),t.ALo(9,"async"),t.TgZ(10,"h2",15),t._uU(11),t.qZA(),t.TgZ(12,"span",16),t._uU(13),t.qZA(),t.TgZ(14,"div",17)(15,"div",18),t.YNc(16,pt,2,1,"h5",19),t.ALo(17,"async"),t.YNc(18,_t,2,1,"h5",19),t.ALo(19,"async"),t.YNc(20,gt,7,3,"div",20),t.YNc(21,ht,6,3,"div",20),t.qZA(),t.TgZ(22,"div",21),t._uU(23),t.qZA()(),t.TgZ(24,"div",22)(25,"div",18),t._uU(26,"Subtotal"),t.qZA(),t.TgZ(27,"div",21),t._uU(28),t.qZA()(),t._UZ(29,"hr"),t.YNc(30,ut,5,1,"div",23),t.YNc(31,xt,5,1,"div",24),t.YNc(32,ft,5,1,"div",23),t.YNc(33,g,1,0,"hr",20),t.ALo(34,"async"),t.TgZ(35,"div",25)(36,"div",18),t._uU(37,"Total due today"),t.qZA(),t.TgZ(38,"div",21),t._uU(39),t.qZA()()()(),t.TgZ(40,"div",26)(41,"div",12)(42,"label",27)(43,"input",28),t.NdJ("ngModelChange",function(l){t.CHM(a);const T=t.oxw();return t.KtG(T.isAutoRenew=l)}),t.qZA(),t._uU(44,"Enable Auto Renew "),t.qZA()(),t.TgZ(45,"div",29),t.YNc(46,y,2,2,"ng-container",30),t.YNc(47,Ct,4,5,"ng-template",null,31,t.W1O),t.qZA()()(),t.TgZ(49,"div",32)(50,"div",11)(51,"div",12),t._uU(52,"Payment Details"),t.qZA(),t.TgZ(53,"div",13),t.YNc(54,Ot,25,14,"div",20),t.TgZ(55,"div",33)(56,"div",34)(57,"div",22)(58,"div",35)(59,"div",36)(60,"div",37)(61,"label",38),t._uU(62,"Email"),t.qZA(),t.YNc(63,wt,3,1,"a",39),t.qZA(),t._UZ(64,"input",40),t.qZA()()(),t.TgZ(65,"div",22)(66,"div",35)(67,"div",36)(68,"label",41),t._uU(69,"Name on card"),t.qZA(),t._UZ(70,"input",42),t.qZA()()(),t.TgZ(71,"div",22)(72,"div",35)(73,"div",36)(74,"label",43),t._uU(75,"Address"),t.qZA(),t._UZ(76,"input",44),t.qZA()()(),t.TgZ(77,"div",22)(78,"div",45)(79,"div",36)(80,"label",46),t._uU(81,"ZIP Code"),t.qZA(),t._UZ(82,"input",47),t.qZA()(),t.TgZ(83,"div",45)(84,"div",36)(85,"label",48),t._uU(86,"City"),t.qZA(),t._UZ(87,"input",49),t.qZA()()(),t.ynx(88),t._UZ(89,"ngx-stripe-payment",50),t.BQk(),t.TgZ(90,"div",51)(91,"div",35)(92,"button",52),t.NdJ("click",function(){t.CHM(a);const l=t.oxw();return t.KtG(!l.done&&l.pay())}),t.YNc(93,Zt,1,0,"span",53),t.YNc(94,d,1,0,"i",54),t._uU(95),t.qZA()()()()()()()()()}if(2&o){const a=s.ngIf,h=t.MAs(48),l=t.oxw();t.xp6(6),t.Q6J("ngIf",!t.lcZ(7,33,l.vs.isV2OrV3$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,35,l.vs.isV2OrV3$)),t.xp6(3),t.hij("$",l.finalPrice.toFixed(2),""),t.xp6(2),t.hij("then $",l.Number(l.typeProxy===l.planTypeEnum.BASIC?+(null==l.selectedProxyData?null:l.selectedProxyData.afterDiscountPrice)*+(null==l.selectedProxyData?null:l.selectedProxyData.proxyDuration):null==l.planPayload?null:l.planPayload.price).toFixed(2)," when renew"),t.xp6(3),t.Q6J("ngIf",!t.lcZ(17,37,l.vs.isV2OrV3$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(19,39,l.vs.isV2OrV3$)),t.xp6(2),t.Q6J("ngIf",l.typeProxy===l.planTypeEnum.BASIC),t.xp6(1),t.Q6J("ngIf",l.typeProxy===l.planTypeEnum.PREMIUM),t.xp6(2),t.hij(" $",l.typeProxy===l.planTypeEnum.BASIC?(+(null==l.selectedProxyData?null:l.selectedProxyData.afterDiscountPrice)*+(null==l.selectedProxyData?null:l.selectedProxyData.proxyDuration)).toFixed(2):null==l.selectedProxyData||null==l.selectedProxyData.price?null:l.selectedProxyData.price.toFixed(2)," "),t.xp6(5),t.hij(" $",l.typeProxy===l.planTypeEnum.BASIC?(+(null==l.selectedProxyData?null:l.selectedProxyData.afterDiscountPrice)*+(null==l.selectedProxyData?null:l.selectedProxyData.proxyDuration)).toFixed(2):null==l.selectedProxyData||null==l.selectedProxyData.price?null:l.selectedProxyData.price.toFixed(2)," "),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",!t.lcZ(34,41,l.vs.isV2OrV3$)),t.xp6(6),t.hij(" $",l.finalPrice.toFixed(2)," "),t.xp6(1),t.ekj("eligible",l.isEligibleForPromotion),t.xp6(3),t.Q6J("ngModel",l.isAutoRenew)("disabled",l.loader||l.isExistingMethodCalled||l.checkingEligibility),t.xp6(3),t.Q6J("ngIf",l.checkingEligibility)("ngIfElse",h),t.xp6(8),t.Q6J("ngIf",!l.showPaymentMethodlist),t.xp6(1),t.Q6J("hidden",!l.showPaymentMethodlist),t.xp6(1),t.Q6J("formGroup",l.stripeTest),t.xp6(7),t.Q6J("ngIf",l.paymentMethodList.length),t.xp6(1),t.s9C("placeholder",(null==l.planPayload?null:l.planPayload.emailId)||""),t.xp6(25),t.Q6J("appearance",l.appearance)("clientSecret",a),t.xp6(3),t.Q6J("disabled",!l.stripeTest.valid||l.loader||l.checkingEligibility)("ngClass",t.kEZ(43,yt,!l.stripeTest.valid||l.loader,l.done,!l.done)),t.xp6(1),t.Q6J("ngIf",l.loader),t.xp6(1),t.Q6J("ngIf",l.done),t.xp6(1),t.hij(" ",l.done?"Done":"Pay"," ")}}let e=(()=>{class o{constructor(a,h,l,T,z,at,Et,St,At,kt){this.stripeService=a,this.checkoutService=h,this.fb=l,this.paymentMethodService=T,this.orderService=z,this.authenticationService=at,this.toaster=Et,this.router=St,this.changeDetectRef=At,this._dataLayerService=kt,this.vs=(0,t.f3M)(W.P),this.Number=Number,this.key="",this.loader=!1,this.isExistingMethodCalled=!1,this.showPaymentMethodlist=!1,this.checkingEligibility=!1,this.isEligibleForPromotion=!1,this.isLoading=!1,this.paymentMethodList=[],this.typeProxy=S._W.BASIC,this.residentialProxyType=S.sz.OCULUS_NETWORK_EXTREME,this.finalPrice=0,this.stripePaymentId="",this.closedModal=new t.vpe,this.cancelPopUp=new t.vpe,this.isExtendPlan=!1,this.selectedPaymentMethod="",this.planTypeEnum=S._W,this.DEFAULT_PROXIES=1e4,this.done=!1,this.isPlanResidential=E.xZ.acceptTermsAndConditionErrorMessage,this.stripeTest=new n.nJ({}),this.isRetryPage=!1,this.isAutoRenew=!0,this.appearance={theme:"stripe",variables:{colorPrimary:"#673ab7"}},this.elementsOptions={locale:"en"},this.stringUtils=E.xZ,this.checkoutService.initStripe()}ngOnInit(){this.done=!1,console.log("----typeProxy-----\x3e",this.typeProxy),this.clientSecret&&(this.elementsOptions.clientSecret=this.clientSecret,this.checkoutService.displayAppearance(this.clientSecret)),this.stripeTest=this.fb.group({name:["",[n.kI.required]],email:[this.planPayload?.emailId||"",[n.kI.required]],address:["",[n.kI.required]],postal_code:["",[n.kI.required]],city:["",[n.kI.required]],amount:[1005,[n.kI.required,n.kI.pattern(/\d+/)]]}),console.log("planPayload-----\x3e----\x3e",this.planPayload,this.selectedProxyData);const a={...this.selectedProxyData,itemAppliedCouponCode:this.planPayload.appliedCouponCode,itemFinalPrice:this.finalPrice,itemResidentialProxyType:this.residentialProxyType+(this.vs.isV2OrV3?"-V2":""),itemTypeOfProxy:this.typeProxy+(this.vs.isV2OrV3?"-V2":"")};console.log("[ADD_TO_CART] track events in ga4....",a),this._dataLayerService.logAddToCart(window.location.href,a),console.log("[CHECKOUT] track events in ga4....",a),this._dataLayerService.logCheckoutCart(window.location.href,a),this.getAllPaymentMethod(),this._checkEligibility()}_checkEligibility(){!this.vs.isV2OrV3||(this.isEligibleForPromotion=!1,this.checkingEligibility=!0,this.changeDetectRef.detectChanges(),this.orderService.checkEligibility(this.planPayload.residentialPlanType,this.planPayload.orderId).pipe((0,b.x)(()=>{this.checkingEligibility=!1,this.changeDetectRef.detectChanges()})).subscribe(a=>{this.isEligibleForPromotion=!0,console.log("===========res",a)}))}getAllPaymentMethod(){this.isLoading=!0,this.paymentMethodService.getPaymentMethods().subscribe(a=>{this.isLoading=!1,this.paymentMethodList=a,this.paymentMethodList.length||(this.showPaymentMethodlist=!0),console.log("paymentMethodList",this.paymentMethodList),this.changeDetectRef.detectChanges()},a=>{this.isLoading=!1,this.toaster.error(a?.message||E.xZ.commonErrorMessage,E.xZ.error)})}payWithOldMethod(a){this.isExistingMethodCalled=!0,this.changeDetectRef.detectChanges(),this.paymentMethodService.updateRenewal(this.subscriptionId,this.isAutoRenew).pipe((0,J.w)(()=>this.stripeService.confirmCardPayment(this.clientSecret,{payment_method:a,payment_method_options:{card:{cvc:this.savePaymentMethod.cardValue()}}})),(0,b.x)(()=>{this.isExistingMethodCalled=!1,this.changeDetectRef.detectChanges()})).subscribe(l=>{console.log("ressss",l),this.isExistingMethodCalled=!1,l.error?this.toaster.error("incomplete_cvc"===l.error.code?this.stringUtils.inCompleteCVCMessage:l.error?.message,E.xZ.error):setTimeout(()=>{this.closeModal({sessionId:this.stripePaymentId.toString()})},500)},l=>{this.isExistingMethodCalled=!1,this.toaster.error(l?.message||E.xZ.commonErrorMessage,E.xZ.error)})}pay(){this.stripeTest?.valid&&this.card?(this.done=!1,this.loader=!0,this.changeDetectRef.detectChanges(),this.paymentMethodService.updateRenewal(this.subscriptionId,this.isAutoRenew).pipe((0,J.w)(()=>this.stripeService.confirmPayment({elements:this.card.elements,confirmParams:{payment_method_data:{billing_details:{name:this.stripeTest?.get("name")?.value,email:this.stripeTest?.get("email")?.value,address:{line1:this.stripeTest?.get("address")?.value,postal_code:this.stripeTest?.get("postal_code")?.value,city:this.stripeTest?.get("city")?.value}}}},redirect:"if_required"})),(0,b.x)(()=>{this.loader=!1,this.changeDetectRef.detectChanges()})).subscribe(a=>{console.log("Result",a),a.error?(this.openDialog({success:!1,error:a.error?.message||this.stringUtils.commonErrorMessage}),this.loader=!1):"succeeded"===a.paymentIntent.status&&(this.loader=!1,this.done=!0,console.log("stripePaymentId",this.stripePaymentId),setTimeout(()=>{this.closeModal({sessionId:this.stripePaymentId.toString()})},500))})):(this.toaster.error("Fill required details"),console.log(this.stripeTest))}openDialog(a){a.success?this.toaster.success(E.xZ.successMessage,E.xZ.success):this.toaster.error("Error: "+a?.error?.toLowerCase()||0)}closeModal(a){document.body.classList.remove("custom-modal-open"),console.log("params",a),this.closedModal.emit(a||!0)}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(r.tJ),t.Y36(f),t.Y36(n.QS),t.Y36(V.X),t.Y36(it.px),t.Y36(it.$h),t.Y36(_._W),t.Y36(st.F0),t.Y36(t.sBO),t.Y36(ct.n))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-stripe-custom-checkout-page"]],viewQuery:function(a,h){if(1&a&&(t.Gf(r._$,5),t.Gf(r.fy,5),t.Gf(F,5)),2&a){let l;t.iGM(l=t.CRH())&&(h.card=l.first),t.iGM(l=t.CRH())&&(h.cardComponent=l.first),t.iGM(l=t.CRH())&&(h.savePaymentMethod=l.first)}},inputs:{typeProxy:"typeProxy",planPayload:"planPayload",clientSecret:"clientSecret",residentialProxyType:"residentialProxyType",subscriptionId:"subscriptionId",finalPrice:"finalPrice",stripePaymentId:"stripePaymentId",selectedProxyData:"selectedProxyData",isExtendPlan:"isExtendPlan",selectedPaymentMethod:"selectedPaymentMethod",isRetryPage:"isRetryPage"},outputs:{closedModal:"closedModal",cancelPopUp:"cancelPopUp"},decls:11,vars:1,consts:[[1,"container","animate__animated","animate__fadeIn"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[1,"modal-content"],[1,"modal-header","border-bottom-color","background-color"],[1,"modal-title","text-dark","font-weight"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","text-dark",3,"click"],["aria-hidden","true"],[1,"modal-body","background-color","p-4"],["class","row text-dark",4,"ngIf"],[1,"row","text-dark"],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-6","mt-3"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","card-title font-weight",4,"ngIf"],[1,"font-weight"],[1,"text-muted",2,"font-size","small"],[1,"row","py-4"],[1,"col-8"],["class","font-weight",4,"ngIf"],[4,"ngIf"],[1,"col-4","d-flex","justify-content-end"],[1,"row"],["class","row pt-1",4,"ngIf"],["class","row pt-3",4,"ngIf"],[1,"row","pt-1"],[1,"card","eligibility","mt-4"],[1,"d-flex","align-items-center"],["type","checkbox",1,"ng-pristine","ng-untouched","ng-valid","mr-2","auto-renew-checkbox",3,"ngModel","disabled","ngModelChange"],[1,"card-body","p-block-10x"],[4,"ngIf","ngIfElse"],["checkedEligibility",""],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-6","mt-3","pb-3"],[3,"hidden"],[3,"formGroup"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"pb-3"],[1,"d-flex","align-items-center","justify-content-between"],["for","email"],["id","changeLink","class","cursor-pointer",3,"click",4,"ngIf"],["type","email","formControlName","email","id","email","readonly","",1,"form-control",3,"placeholder"],["for","name"],["placeholder","Name on card","type","text","formControlName","name","id","name",1,"form-control"],["for","address"],["type","text","placeholder","Address","formControlName","address","id","address",1,"form-control"],[1,"col-sm-12","col-md-12","col-lg-6","col-xl-6"],["for","zip"],["type","text","placeholder","ZIP Code","formControlName","postal_code","id","zip",1,"form-control"],["for","city"],["type","text","placeholder","City","formControlName","city","id","city",1,"form-control"],[3,"appearance","clientSecret"],[1,"row","pt-4"],["type","button",1,"btn","button-responsive",3,"disabled","ngClass","click"],["class","spinner-border spinner-border-sm mr-2","role","status","aria-hidden","true",4,"ngIf"],["class","fas fa-check-circle pr-1",4,"ngIf"],[1,"card-title","font-weight"],[1,"text-muted",2,"font-size","smaller"],["class","text-muted","style","font-size: smaller",4,"ngIf"],[1,"row","pt-3"],["class","border-rounded shimmer-box shine mt-2",4,"ngFor","ngForOf"],[1,"border-rounded","shimmer-box","shine","mt-2"],["class","renew-warning text-muted",4,"ngIf"],[1,"promo-text"],[1,"promo-divider"],[1,"renew-warning","text-muted"],["type","email","id","email","readonly","",1,"form-control",3,"placeholder"],[1,""],["for","paymentMethod"],["id","paymentMethod",3,"selectedMethodId","hidden","savedMethodList"],["savedPaymentMethod",""],[1,"mt-5"],[1,"terms"],["id","changeLink",1,"cursor-pointer",3,"click"],[1,"fas","fa-repeat-alt","px-2"],[1,"mt-4","alert","alert-secondary"],[1,"d-flex","justify-content-center","align-items-center"],["height","40px","src","../../../../assets/images/order/empty-order.svg"],[1,"ml-2",2,"color","#656c7c"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-2"],[1,"fas","fa-check-circle","pr-1"]],template:function(a,h){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5,"Payment"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return h.closeModal()}),t.TgZ(7,"span",6),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",7),t.YNc(10,O,96,47,"div",8),t.qZA()()()()),2&a&&(t.xp6(10),t.Q6J("ngIf",null==h.elementsOptions?null:h.elementsOptions.clientSecret))},dependencies:[Y.mk,Y.sg,Y.O5,n.Fj,n.Wl,n.JJ,n.JL,n.On,n.sg,n.u,r._$,F,Y.Ov],styles:['[_nghost-%COMP%]     .renew-warning{font-size:12.5px}[_nghost-%COMP%]     .card.eligibility.eligible{border-color:#00800080!important}[_nghost-%COMP%]     .card.eligibility.eligible input[type=checkbox]:checked, [_nghost-%COMP%]     .card.eligibility.eligible input[type=checkbox]:checked:hover{accent-color:green}[_nghost-%COMP%]     .card.eligibility.eligible .card-header{background-color:#0080001a}[_nghost-%COMP%]     .p-block-10x{padding-block:15px}[_nghost-%COMP%]     .auto-renew-checkbox{-webkit-appearance:checkbox;height:20px;width:20px}[_nghost-%COMP%]     .promo-text{font-size:12px;margin:0 0 10px;color:green}[_nghost-%COMP%]     .promo-divider{margin-top:.5rem;margin-bottom:.8rem}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:30vw;min-width:500px;align-self:center;box-shadow:0 0 0 .5px #32325d1a,0 2px 5px #32325d1a,0 1px 1.5px #00000012;border-radius:8px;padding:2.625rem}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   #payment-message[_ngcontent-%COMP%]{color:#697386;font-size:16px;line-height:20px;padding-top:12px;text-align:center}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   #payment-element[_ngcontent-%COMP%]{margin-bottom:24px}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#5469d4;font-family:Arial,sans-serif;color:#fff;border-radius:4px;border:0;padding:12px 16px;font-size:16px;font-weight:600;cursor:pointer;display:block;transition:all .2s ease;box-shadow:0 4px 5.5px #00000012;width:100%}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:contrast(115%)}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%], app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:before, app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:after{border-radius:50%}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{color:#fff;font-size:22px;text-indent:-99999px;margin:0 auto;position:relative;width:20px;height:20px;box-shadow:inset 0 0 0 2px;transform:translateZ(0)}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:before, app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:after{position:absolute;content:""}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:before{width:10.4px;height:20.4px;background:#5469d4;border-radius:20.4px 0 0 20.4px;top:-.2px;left:-.2px;transform-origin:10.4px 10.2px;animation:loading 2s infinite ease 1.5s}app-stripe-custom-checkout-page[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:after{width:10.4px;height:10.2px;background:#5469d4;border-radius:0 10.2px 10.2px 0;top:-.1px;left:10.2px;transform-origin:0px 10.2px;animation:loading 2s infinite ease}@keyframes loading{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 600px){app-stripe-custom-checkout-page[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:80vw;min-width:initial}}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000000cf;font-weight:inherit;font-family:system-ui}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid rgba(211,211,211,.6588235294)!important;background-color:#fff;box-shadow:0 0 1px #d3d3d3}.container[_ngcontent-%COMP%]   .button-responsive[_ngcontent-%COMP%]{height:3em;width:inherit}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#0069d9;border-color:#0069d9;color:#fff}.container[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{background:#28a745;border-color:#28a745;color:#fff}.container[_ngcontent-%COMP%]   .border-diasbled[_ngcontent-%COMP%]{border-color:#9d9d9d!important}.container[_ngcontent-%COMP%]   .font-weight[_ngcontent-%COMP%]{font-weight:100}.container[_ngcontent-%COMP%]   .btn-white[_ngcontent-%COMP%]{background-color:#fff!important}.container[_ngcontent-%COMP%]   .text-black[_ngcontent-%COMP%]{color:#000}#changeLink[_ngcontent-%COMP%]{color:#007bff!important;font-size:small}#changeLink[_ngcontent-%COMP%]:hover{text-decoration:underline}.shine[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(221,221,221,0) 0%,rgba(251,251,251,0) 20%,rgba(65,71,90,.2117647059) 40%,#41475a 100%)}.terms[_ngcontent-%COMP%]{font-size:.75rem;color:#6d6e78;line-height:1.45}']}),o})()}}]);